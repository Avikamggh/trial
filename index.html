<!DOCTYPE html>
<html lang="en">
<head>
<!-- Favicon -->
<link rel="icon" href="x.webp" type="image/png">     

 <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xploreon Learning Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Orbitron', sans-serif;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2a 50%, #0a1a3a 100%);
            min-height: 100vh;
            color: white;
            position: relative;
            overflow-x: hidden;
        }

        .glass-effect {
            background: rgba(0, 255, 255, 0.07);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 255, 255, 0.2);
        }

        .glow-text {
            color: #00ffe0;
            text-shadow: 0 0 15px #00ffe0, 0 0 30px #00ffe0;
        }

        .glow-tm {
            text-shadow: 0 0 6px #00ffe0, 0 0 10px #00ffe0;
            font-weight: bold;
            margin-left: 2px;
            animation: pulseTM 1.5s infinite alternate;
        }

        @keyframes pulseTM {
            from { opacity: 0.7; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Enhanced Navigation Styles */
        .nav-enhanced {
            backdrop-filter: blur(20px);
            background: rgba(0, 255, 255, 0.07);
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .logo-enhanced {
            transition: all 0.3s ease;
            position: relative;
        }

        .logo-enhanced:hover {
            transform: scale(1.05);
            text-shadow: 0 0 20px #00ffe0, 0 0 40px #00ffe0;
        }

        /* Desktop Menu Enhancements */
        .desktop-menu .nav-link {
            position: relative;
            padding: 3px 6px;
            border-radius: 25px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
            text-decoration: none;
            display: block;
        }

        .desktop-menu .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 188, 212, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .desktop-menu .nav-link:hover::before {
            left: 100%;
        }

        .desktop-menu .nav-link:hover {
            background: rgba(0, 188, 212, 0.1);
            border: 1px solid rgba(0, 188, 212, 0.3);
            box-shadow: 0 5px 15px rgba(0, 188, 212, 0.2);
            color: #00bcd4;
        }

        .desktop-menu .nav-link::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(45deg, #00bcd4, #3f51b5);
            color: black;
            font-weight: bold;
            opacity: 0;
            transform: rotateY(90deg);
            transition: all 0.3s ease;
        }

        .desktop-menu .nav-link:hover::after {
            opacity: 1;
            transform: rotateY(0deg);
        }

        /* Enhanced Hamburger Menu */
        .menu-toggle-btn {
            width: 40px;
            height: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
             
        }

        .hamburger-line {
            width: 25px;
            height: 3px;
            background: linear-gradient(90deg, #00bcd4, #3f51b5);
            box-shadow: 0 0 10px rgba(0, 188, 212, 0.5);
            margin: 3px 0;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-radius: 2px;
        }

        .menu-toggle-btn.active .hamburger-line:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
            background: linear-gradient(90deg, #ff4757, #ff3742);
        }

        .menu-toggle-btn.active .hamburger-line:nth-child(2) {
            opacity: 0;
            transform: scale(0);
        }

        .menu-toggle-btn.active .hamburger-line:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
            background: linear-gradient(90deg, #ff4757, #ff3742);
        }

        /* Enhanced Mobile Menu */
        .mobile-menu-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 40;
            visibility: hidden;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .mobile-menu-container.show {
            visibility: visible;
            opacity: 1;
        }

        .mobile-menu-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .mobile-menu-content {
            position: absolute;
            top: 80px;
            left: 0;
            width: 100%;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.95), rgba(0, 20, 40, 0.95));
            backdrop-filter: blur(20px);
            border-top: 2px solid rgba(0, 188, 212, 0.3);
            border-bottom: 2px solid rgba(0, 188, 212, 0.3);
            padding: 20px 0;
            transform: translateY(-100%);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .mobile-menu-container.show .mobile-menu-content {
            transform: translateY(0);
        }

        .mobile-menu-item {
            margin: 0;
            opacity: 0;
            transform: translateX(-50px);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .mobile-menu-container.show .mobile-menu-item {
            opacity: 1;
            transform: translateX(0);
        }

        .mobile-menu-container.show .mobile-menu-item:nth-child(1) { transition-delay: 0.1s; }
        .mobile-menu-container.show .mobile-menu-item:nth-child(2) { transition-delay: 0.15s; }
        .mobile-menu-container.show .mobile-menu-item:nth-child(3) { transition-delay: 0.2s; }
        .mobile-menu-container.show .mobile-menu-item:nth-child(4) { transition-delay: 0.25s; }
        .mobile-menu-container.show .mobile-menu-item:nth-child(5) { transition-delay: 0.3s; }
        .mobile-menu-container.show .mobile-menu-item:nth-child(6) { transition-delay: 0.35s; }
        .mobile-menu-container.show .mobile-menu-item:nth-child(7) { transition-delay: 0.4s; }
        .mobile-menu-container.show .mobile-menu-item:nth-child(8) { transition-delay: 0.45s; }

        .mobile-nav-link {
            display: flex;
            align-items: center;
            padding: 15px 25px;
            color: white;
            text-decoration: none;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }

        .mobile-nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 188, 212, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .mobile-nav-link:hover::before {
            left: 100%;
        }

        .mobile-nav-link:hover {
            background: rgba(0, 188, 212, 0.1);
            border-left-color: #00bcd4;
            color: #00bcd4;
        }

        .menu-icon {
            font-size: 20px;
            margin-right: 15px;
            transition: all 0.3s ease;
        }

        .menu-text {
            flex: 1;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .menu-arrow {
            font-size: 18px;
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.3s ease;
        }

        .mobile-nav-link:hover .menu-arrow {
            opacity: 1;
            transform: translateX(0);
        }

        .mobile-nav-link:hover .menu-icon {
            transform: scale(1.2) rotate(10deg);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .nav-enhanced {
                padding: 12px 16px;
            }
            
            .logo-enhanced {
                font-size: 20px;
            }
        }

        /* Animated Starfield */
        .starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #00ffe0;
            border-radius: 50%;
            animation: twinkle 4s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            padding: 1rem;
        }

        /* Progress Container - Fixed for mobile */
        .progress-container {
            position: fixed;
            top: 80px;
            left: 1rem;
            right: 1rem;
            background: rgba(0, 20, 40, 0.95);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 15px;
            padding: 1rem;
            z-index: 90;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .progress-ring {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #00ffe0 0%, #0099cc 25%, #667eea 50%, #764ba2 75%, #333 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            flex-shrink: 0;
        }

        .progress-ring::before {
            content: '';
            position: absolute;
            width: 45px;
            height: 45px;
            background: rgba(0, 20, 40, 0.95);
            border-radius: 50%;
        }

        .progress-percentage {
            position: relative;
            z-index: 1;
            font-size: 12px;
            font-weight: bold;
            color: #00ffe0;
        }

        /* Main Content */
        .main-content {
            margin-top: 220px;
            padding: 1rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Premium Button */
        .premium-floating-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 30;
            background: linear-gradient(45deg, #ffd700, #ffed4a, #ffd700);
            background-size: 200% 200%;
            animation: shimmer 2s infinite;
            color: #000;
            font-weight: bold;
            padding: 12px 20px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
            transition: all 0.3s ease;
            font-size: 14px;
        }

        @keyframes shimmer {
            0% { background-position: 0% 0%; }
            100% { background-position: 200% 200%; }
        }

        /* Step Cards */
        .step-card {
            background: rgba(0, 20, 40, 0.8);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 20px;
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
        }

        .step-card:hover {
            transform: translateY(-5px);
            border-color: #00ffe0;
            box-shadow: 0 15px 30px rgba(0, 255, 255, 0.3);
        }

        .step-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #00ffe0, #0099cc);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin: 0 auto 1rem;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            animation: float 6s ease-in-out infinite;
            flex-shrink: 0;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        .step-completed .step-icon {
            background: linear-gradient(135deg, #00ff88, #00cc66);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.7);
        }

        .step-locked .step-icon {
            background: linear-gradient(135deg, #666666, #444444);
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Video Controls */
        .custom-video-container {
            position: relative;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
            width: 100%;
            aspect-ratio: 16/9;
        }

        .youtube-container {
            position: relative;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
            width: 100%;
            aspect-ratio: 16/9;
        }

        .youtube-player {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 15px;
        }

        .custom-video-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .custom-video-container:hover .custom-video-controls {
            opacity: 1;
        }

        .play-pause-btn, .fullscreen-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .play-pause-btn:hover, .fullscreen-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .video-progress-bar {
            flex: 1;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            overflow: hidden;
            position: relative;
            cursor: not-allowed;
        }

        .video-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ffe0, #0099cc);
            border-radius: 2px;
            transition: width 0.1s ease;
        }

        .video-time-display {
            color: white;
            font-size: 12px;
            min-width: 80px;
            text-align: right;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            backdrop-filter: blur(10px);
            overflow-y: auto;
        }

        .modal-content {
            position: relative;
            margin: 1rem auto;
            background: linear-gradient(135deg, rgba(0, 20, 40, 0.95), rgba(10, 0, 30, 0.95));
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 20px;
            padding: 1.5rem;
            max-width: 95vw;
            width: 90%;
            max-height: 90vh;
            backdrop-filter: blur(15px);
            overflow-y: auto;
        }

        /* Learning Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .stat-card {
            background: rgba(0, 20, 40, 0.8);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 15px;
            padding: 1rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: #00ffe0;
            transform: translateY(-3px);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #00ffe0;
            display: block;
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-top: 0.5rem;
        }

        /* Achievement Animation */
        .achievement-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #ffd700, #ffed4a);
            color: #000;
            padding: 2rem;
            border-radius: 20px;
            font-weight: bold;
            font-size: 18px;
            z-index: 1001;
            border: 3px solid #ff6b35;
            box-shadow: 0 0 50px rgba(255, 215, 0, 0.8);
            opacity: 0;
            transition: all 0.5s ease;
            text-align: center;
            max-width: 90%;
        }

        .achievement-popup.show {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .progress-container {
                top: 100px;
                left: 0.5rem;
                right: 0.5rem;
                padding: 0.75rem;
                z-index: 35;
            }

            .main-content {
                margin-top: 180px;
                padding: 1rem;
            }

            .step-card {
                padding: 1rem;
            }

            .step-icon {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }

            .modal-content {
                margin: 0.5rem;
                width: calc(100% - 1rem);
                padding: 1rem;
                max-height: 95vh;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.5rem;
            }

            .stat-card {
                padding: 0.75rem;
            }

            .stat-value {
                font-size: 1.2rem;
            }

            .progress-ring {
                width: 50px;
                height: 50px;
            }

            .progress-ring::before {
                width: 35px;
                height: 35px;
            }

            .progress-percentage {
                font-size: 10px;
            }

            .premium-floating-btn {
                bottom: 15px;
                left: 20px;
                padding: 10px 16px;
                font-size: 12px;
            }

            h1 {
                font-size: 2rem !important;
            }

            .play-pause-btn, .fullscreen-btn {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            .progress-container {
                top: 65px;
                left: 0.25rem;
                right: 0.25rem;
                padding: 0.5rem;
            }

            .main-content {
                margin-top: 160px;
                padding: 0.5rem;
            }

            .step-card {
                padding: 0.75rem;
            }

            .modal-content {
                margin: 0.25rem;
                width: calc(100% - 0.5rem);
                padding: 0.75rem;
                max-height: 98vh;
            }

            .stats-grid {
                grid-template-columns: 1fr 1fr;
                gap: 0.25rem;
            }

            .stat-card {
                padding: 0.5rem;
            }

            .stat-value {
                font-size: 1rem;
            }

            .progress-ring {
                width: 40px;
                height: 40px;
            }

            .progress-ring::before {
                width: 28px;
                height: 28px;
            }

            .progress-percentage {
                font-size: 8px;
            }

            h1 {
                font-size: 1.5rem !important;
            }

            .play-pause-btn, .fullscreen-btn {
                width: 30px;
                height: 30px;
                font-size: 12px;
            }
        }






<!-- chatbot--> 
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

       :root {
    --primary-cyan: #00bcd4;        /* Light cyan from image */
    --primary-blue: #3f51b5;        /* Dark purple from image */
    --secondary-purple: #3f51b5;    /* Adjusted to dark purple */
    --accent-pink: #ec4899;
    --dark-bg: #0a0a0f;
    --darker-bg: #06060a;
    --card-bg: rgba(15, 15, 35, 0.9);
    --border-glow: rgba(0, 255, 255, 0.3);
    --text-primary: #ffffff;
    --text-secondary: #a0a0a0;
    --success-green: #10b981;
    --warning-orange: #f59e0b;
    --voice-active: #ff6b6b;
}

        body {
            
            
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Optimized Background */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.08;
            pointer-events: none;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--primary-cyan);
            border-radius: 50%;
            animation: twinkle 4s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.8; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes voicePulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(255, 107, 107, 0.3); }
            50% { transform: scale(1.1); box-shadow: 0 0 40px rgba(255, 107, 107, 0.6); }
        }

        @keyframes micWave {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(1.3); }
        }

        /* Humanoid Avatar Styles */
        .humanoid-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .humanoid-face {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .humanoid-avatar.speaking {
            animation: voicePulse 1s infinite;
        }

        .humanoid-avatar.listening {
            background: linear-gradient(135deg, var(--voice-active), #ff8a80);
            animation: pulse 1.5s infinite;
        }

        /* Chatbot Widget */
        .xploreon-chatbot {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            font-family: 'Inter', sans-serif;
        }

        .chatbot-toggle {
            width: 70px;
            height: 70px;
            border-radius: 50%;
           background: linear-gradient(135deg, #00bcd4 0%, #3f51b5 100%);
            border: 3px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            animation: float 6s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }

        .chatbot-toggle:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.4);
        }

        .chatbot-toggle.clicked {
            animation: spinRocket 0.6s linear;
        }

        @keyframes spinRocket {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .chatbot-toggle .humanoid-face {
            font-size: 28px;
        }

        .chatbot-window {
            position: absolute;
            bottom: 85px;
            right: 0;
            width: 380px;
            height: 580px;
            background: linear-gradient(135deg, #00bcd4 0%, #3f51b5 100%);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 2px solid var(--border-glow);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            display: none;
            flex-direction: column;
            overflow: hidden;
            transform: translateY(20px) scale(0.95);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .chatbot-window.active {
            display: flex;
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .chatbot-header {
           background: linear-gradient(135deg, #00bcd4 0%, #3f51b5 100%);
            padding: 18px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        .chatbot-header-content {
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1;
        }

        .chatbot-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .chatbot-header h3 {
            margin: 0;
            font-size: 16px;
            font-weight: 700;
            font-family: 'Orbitron', monospace;
        }

        .chatbot-status {
            font-size: 11px;
            opacity: 0.9;
            font-weight: 300;
        }

        .close-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 16px;
            cursor: pointer;
            padding: 6px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .chatbot-messages {
            flex: 1;
            padding: 18px;
            overflow-y: auto;
            background: linear-gradient(135deg, var(--darker-bg), rgba(15, 15, 30, 0.8));
        }

        .message {
            margin-bottom: 16px;
            display: flex;
            align-items: flex-start;
            animation: slideInUp 0.3s ease-out;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            margin-right: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .message.bot .message-avatar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, var(--accent-pink), var(--secondary-purple));
            margin-right: 0;
            margin-left: 8px;
            order: 1;
        }

        .message-content {
            max-width: 75%;
            padding: 12px 14px;
            border-radius: 16px;
            font-size: 13px;
            line-height: 1.4;
            word-wrap: break-word;
        }

        .message.bot .message-content {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border: 1px solid rgba(102, 126, 234, 0.2);
            color: var(--text-primary);
            border-radius: 16px 16px 16px 4px;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, var(--accent-pink), var(--secondary-purple));
            color: white;
            border-radius: 16px 16px 4px 16px;
        }

        .message-time {
            font-size: 10px;
            opacity: 0.6;
            margin-top: 4px;
            text-align: right;
        }

        .typing-indicator {
            display: none;
            padding: 12px 14px;
            background: transparent;
            border: none;
            color: #ffffff;
            font-size: 16px;
            font-weight: 600;
            max-width: 75%;
            text-align: left;
            padding-left: 20px;
        }

        .typing-indicator.active {
            display: block;
            animation: slideInUp 0.2s ease-out;
        }

        .typing-dots {
            display: inline-flex;
            gap: 3px;
            margin-left: 6px;
        }

        .typing-dot {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: #ffffff;
            animation: typingBounce 1.2s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.24s; }
        .typing-dot:nth-child(2) { animation-delay: -0.12s; }

        @keyframes typingBounce {
            0%, 80%, 100% { transform: scale(0); opacity: 0.3; }
            40% { transform: scale(1); opacity: 1; }
        }

        .chatbot-input {
            padding: 16px;
            border-top: 1px solid rgba(102, 126, 234, 0.2);
            background: linear-gradient(135deg, rgba(15, 15, 30, 0.8), rgba(10, 10, 20, 0.9));
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .input-container {
            flex: 1;
            position: relative;
        }

        .chatbot-input input {
            width: 100%;
            padding: 12px 50px 12px 16px;
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 22px;
            background: rgba(30, 30, 45, 0.8);
            color: white;
            font-size: 13px;
            outline: none;
            transition: all 0.2s ease;
        }

        .chatbot-input input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .chatbot-input input::placeholder {
            color: var(--text-secondary);
        }

        .mic-button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            font-size: 14px;
        }

        .mic-button:hover {
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .mic-button.listening {
            background: linear-gradient(135deg, var(--voice-active), #ff8a80);
            animation: pulse 1s infinite;
        }

        .mic-button.listening::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--voice-active), #ff8a80);
            z-index: -1;
            animation: micWave 0.5s infinite alternate;
        }

        .voice-status {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .voice-status.active {
            opacity: 1;
        }

        .send-button {
            padding: 12px 16px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 22px;
            color: white;
            cursor: pointer;
            font-weight: 600;
            font-size: 12px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .send-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .send-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 12px;
        }

        .quick-action {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border: 1px solid rgba(102, 126, 234, 0.3);
            color: #667eea;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .quick-action:hover {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.2));
            transform: translateY(-1px);
        }

        .knowledge-category {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 600;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        /* Scrollbar */
        .chatbot-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chatbot-messages::-webkit-scrollbar-track {
            background: rgba(30, 30, 45, 0.3);
            border-radius: 3px;
        }

        .chatbot-messages::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 3px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .xploreon-chatbot {
                bottom: 15px;
                right: 15px;
            }
            
            .chatbot-window {
                width: calc(100vw - 30px);
                height: calc(80vh - 80px);
                bottom: 75px;
                right: -8px;
            }
            
            .chatbot-toggle {
                width: 58px;
                height: 58px;
            }

            .message-content {
                max-width: 85%;
                font-size: 12px;
            }
        }

        .message-card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 10px;
            padding: 12px;
            margin: 8px 0;
        }

        .message-card h4 {
            color: #667eea;
            margin-bottom: 6px;
            font-size: 13px;
            font-weight: 600;
        }

        .highlight {
            background: linear-gradient(135deg, rgba(255, 255, 0, 0.2), rgba(255, 165, 0, 0.2));
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: 600;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: linear-gradient(135deg, #ff4757, #ff3742);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            animation: pulse 2s infinite;
        }

        @media (min-width: 1024px) {
            .chatbot-window {
                width: 320px;
                height: 520px;
            }
        }

        /* Voice Visualization */
        .voice-visualization {
            display: none;
            position: absolute;
            bottom: 100%;
            left: 0;
            right: 0;
            height: 40px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 20px 20px 0 0;
            padding: 10px;
            align-items: center;
            justify-content: center;
        }

        .voice-visualization.active {
            display: flex;
        }

        .voice-bars {
            display: flex;
            gap: 2px;
            align-items: center;
        }

        .voice-bar {
            width: 3px;
            height: 10px;
            background: var(--voice-active);
            border-radius: 2px;
            animation: voiceBar 0.5s infinite alternate;
        }

        .voice-bar:nth-child(2) { animation-delay: 0.1s; }
        .voice-bar:nth-child(3) { animation-delay: 0.2s; }
        .voice-bar:nth-child(4) { animation-delay: 0.3s; }
        .voice-bar:nth-child(5) { animation-delay: 0.4s; }

        @keyframes voiceBar {
            from { height: 10px; }
            to { height: 20px; }
        }

.chatbot-inner-stars {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1; /* ABOVE background, BELOW messages */
    overflow: hidden;
}

.chatbot-inner-stars .star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: var(--primary-cyan);
    border-radius: 50%;
    animation: twinkle 4s infinite;
}

    </style>
</head>
<body>
    <!-- Starfield Background -->
    <div class="starfield" id="starfield"></div>

    <!-- Enhanced Navigation -->
    <nav class="w-full flex justify-between items-center px-4 py-4 glass-effect fixed top-0 z-50 nav-enhanced">
        <a href="index.html" class="text-xl md:text-2xl glow-text logo-enhanced">
            Xploreon<sup class="text-cyan-400 text-xs md:text-sm glow-tm">™</sup>
        </a>

        <button id="menuToggle" class="md:hidden text-white text-2xl menu-toggle-btn">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>

        <ul class="hidden md:flex space-x-6 text-white text-sm md:text-base desktop-menu">
            <li><a href="mission.html" class="nav-link" data-text="Mission">Mission</a></li>
            <li><a href="tech.html" class="nav-link" data-text="Tech">Tech</a></li>
            <li><a href="team.html" class="nav-link" data-text="Team">Team</a></li>
            <li><a href="news.html" class="nav-link" data-text="News">News</a></li>
            <li><a href="tracker.html" class="nav-link" data-text="Tracker">Tracker</a></li>
            <li><a href="competition.html" class="nav-link" data-text="Competition">Competition</a></li>
            <li><a href="ladder-game.html" class="nav-link" data-text="Learning">Learning</a></li>
            <li><a href="contact.html" class="nav-link" data-text="Contact">Contact</a></li>
        </ul>
    </nav>

    <!-- Enhanced Mobile menu -->
    <div id="mobileMenu" class="mobile-menu-container">
        <div class="mobile-menu-backdrop"></div>
        <ul class="mobile-menu-content">
            <li class="mobile-menu-item">
                <a href="mission.html" class="mobile-nav-link">
                    <span class="menu-icon">🎯</span>
                    <span class="menu-text">Mission</span>
                    <span class="menu-arrow">→</span>
                </a>
            </li>
            <li class="mobile-menu-item">
                <a href="tech.html" class="mobile-nav-link">
                    <span class="menu-icon">🔬</span>
                    <span class="menu-text">Tech</span>
                    <span class="menu-arrow">→</span>
                </a>
            </li>
            <li class="mobile-menu-item">
                <a href="team.html" class="mobile-nav-link">
                    <span class="menu-icon">👥</span>
                    <span class="menu-text">Team</span>
                    <span class="menu-arrow">→</span>
                </a>
            </li>
            <li class="mobile-menu-item">
                <a href="news.html" class="mobile-nav-link">
                    <span class="menu-icon">📰</span>
                    <span class="menu-text">News</span>
                    <span class="menu-arrow">→</span>
                </a>
            </li>
            <li class="mobile-menu-item">
                <a href="tracker.html" class="mobile-nav-link">
                    <span class="menu-icon">🛰️</span>
                    <span class="menu-text">Tracker</span>
                    <span class="menu-arrow">→</span>
                </a>
            </li>
            <li class="mobile-menu-item">
                <a href="competition.html" class="mobile-nav-link">
                    <span class="menu-icon">🏆</span>
                    <span class="menu-text">Competition</span>
                    <span class="menu-arrow">→</span>
                </a>
            </li>
            <li class="mobile-menu-item">
                <a href="ladder-game.html" class="mobile-nav-link">
                    <span class="menu-icon">🎓</span>
                    <span class="menu-text">Learning</span>
                    <span class="menu-arrow">→</span>
                </a>
            </li>
            <li class="mobile-menu-item">
                <a href="contact.html" class="mobile-nav-link">
                    <span class="menu-icon">📞</span>
                    <span class="menu-text">Contact</span>
                    <span class="menu-arrow">→</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Premium Floating Button -->
    <button class="premium-floating-btn" onclick="openPremiumModal()">
        💎 Premium
    </button>

    <!-- Progress Container -->
    <div class="progress-container">
        <div class="flex items-center justify-between">
            <div class="progress-ring">
                <div class="progress-percentage" id="progressPercentage">0%</div>
            </div>
            <div class="flex-1 ml-4">
                <h3 class="text-sm md:text-lg font-bold glow-text">Learning Progress</h3>
                <p class="text-xs md:text-sm opacity-80" id="progressText">0/14 Videos Complete</p>
                <div class="mt-2">
                    <div class="w-full bg-gray-700 rounded-full h-2">
                        <div class="bg-gradient-to-r from-cyan-400 to-blue-500 h-2 rounded-full transition-all duration-500" id="progressBar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-5xl lg:text-6xl font-bold glow-text mb-4">
                🚀 Space Explorer 
            </h1>
            <p class="text-lg md:text-xl opacity-80">Master the cosmos through interactive video lessons</p>
        </div>

        <!-- Learning Stats -->
        <div class="stats-grid mb-8">
            <div class="stat-card">
                <span class="stat-value" id="totalTime">0h 0m</span>
                <div class="stat-label">Watch Time</div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="completedVideos">0</span>
                <div class="stat-label">Completed</div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="streakCount">0</span>
                <div class="stat-label">Day Streak</div>
            </div>
            <div class="stat-card" onclick="openCertificateModal()" style="cursor: pointer;">
                <span class="stat-value" id="certificateStatus">🔒</span>
                <div class="stat-label">Certificate</div>
                <div class="text-xs mt-1 opacity-70" id="certificateInfo">Complete all lessons</div>
            </div>
        </div>

        <!-- Learning Path -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6" id="learningPath">
            <!-- Videos will be populated here -->
        </div>
    </main>

    <!-- Video Modal -->
    <div class="modal" id="videoModal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl md:text-2xl font-bold glow-text" id="videoTitle">Video Title</h2>
                <button onclick="closeVideoModal()" class="text-white hover:text-red-500 text-2xl md:text-3xl">&times;</button>
            </div>
            
            <!-- YouTube Video Container -->
            <div class="youtube-container" id="youtubeContainer" style="display: none;">
                <div id="youtubePlayer"></div>
            </div>

            <!-- Regular Video Container -->
            <div class="custom-video-container" id="videoContainer" style="display: none;">
                <video id="videoPlayer" class="w-full h-full" preload="metadata">
                    <source src="" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                
                <div class="custom-video-controls" id="customControls">
                    <button class="play-pause-btn" id="playPauseBtn">
                        <span id="playPauseIcon">▶</span>
                    </button>
                    <div class="video-progress-bar" id="progressBarVideo">
                        <div class="video-progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <div class="video-time-display" id="timeDisplay">0:00 / 0:00</div>
                    <button class="fullscreen-btn" id="fullscreenBtn">
                        <span id="fullscreenIcon">⛶</span>
                    </button>
                </div>
            </div>
            
            <div class="mt-4">
                <h3 class="text-lg font-semibold mb-4">Learning Objectives:</h3>
                <ul class="space-y-2" id="learningObjectives">
                    <!-- Objectives will be populated here -->
                </ul>
                
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center pt-6 gap-4">
                    <span class="text-sm opacity-60">Duration: <span id="videoDuration">6 minutes</span></span>
                    <div class="bg-blue-500 bg-opacity-20 text-blue-300 py-2 px-4 rounded-lg text-sm w-full md:w-auto text-center" id="videoStatus">
                        🎥 Watch to completion for auto-progress
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Certificate Modal -->
    <div class="modal" id="certificateModal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl md:text-2xl font-bold glow-text">🏆 Space Explorer Certificate</h2>
                <button onclick="closeCertificateModal()" class="text-white hover:text-red-500 text-2xl md:text-3xl">&times;</button>
            </div>
            
            <div class="text-center space-y-6">
                <!-- Certificate Icon Display -->
                <div class="text-6xl md:text-8xl mb-4" id="certificateIcon">🔒</div>
                
                <!-- Certificate Status -->
                <div class="bg-gray-800 p-6 rounded-xl">
                    <h3 class="text-xl font-bold mb-3" id="certificateTitle">Certificate Locked</h3>
                    <p class="text-gray-300 mb-4" id="certificateDescription">Complete all 14 video lessons to unlock your official Space Explorer Certificate</p>
                    
                    <!-- Progress Info -->
                    <div class="bg-blue-500 bg-opacity-20 text-blue-300 py-3 px-4 rounded-lg mb-4">
                        <div class="text-sm font-medium" id="certificateProgress">0/14 Videos Completed</div>
                        <div class="w-full bg-gray-700 rounded-full h-2 mt-2">
                            <div class="bg-gradient-to-r from-cyan-400 to-blue-500 h-2 rounded-full transition-all duration-500" id="certificateProgressBar" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <!-- Certificate Features -->
                    <div class="text-left space-y-2 text-sm text-gray-400">
                        <div class="flex items-center space-x-2">
                            <span>✅</span>
                            <span>Official Space Explorer Certification</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span>🎨</span>
                            <span>High-quality downloadable image</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span>🔗</span>
                            <span>Unique verification ID</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span>📅</span>
                            <span>Date of completion</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span>🚀</span>
                            <span>Xploreon official seal</span>
                        </div>
                    </div>
                </div>
                
                <!-- Action Button -->
                <button id="downloadCertificate" 
                        class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-600 transition-all transform hover:scale-105" 
                        disabled 
                        onclick="downloadCertificateImage()">
                    <span id="downloadButtonText">🔒 Complete All Videos to Unlock</span>
                </button>
                
                <div class="text-xs opacity-70">
                    Professional certificate with verification • Download as PNG image
                </div>
            </div>
        </div>
    </div>

    <!-- Premium Modal -->
    <div class="modal" id="premiumModal">
        <div class="modal-content" style="background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2a 50%, #0a1a3a 100%);">
            <div class="text-center">
                <button onclick="closePremiumModal()" class="absolute top-4 right-4 text-white hover:text-gray-300 text-2xl">&times;</button>
                
                <div class="text-4xl md:text-6xl mb-4">💎</div>
                <h2 class="text-2xl md:text-3xl font-bold mb-2 text-white">Unlock Premium Learning</h2>
                <p class="text-white opacity-80 mb-6 md:mb-8">Access exclusive video content and advanced features</p>

                <div class="bg-gray-800 p-5 rounded-xl shadow-lg mb-6">
                    <h3 class="text-xl font-semibold text-white mb-3">What's Included in Premium:</h3>
                    <ul class="text-gray-300 text-sm space-y-3">
                        <li>🌟 <strong>4 Live Sessions in a Month</strong>: Participate in live sessions to get real-time feedback and guidance from experts.</li>
                        <li>👨‍🏫 <strong>Mentorship</strong>: Receive personalized mentorship from our experienced team to guide you through your learning journey.</li>
                        <li>🎁 <strong>Exclusive Benefits</strong>: Access other premium resources and updates available only to members.</li>
                    </ul>
                </div>

                <button onclick="redirectToPayment()" class="w-full bg-gradient-to-r from-teal-400 to-teal-600 text-white font-bold py-3 md:py-4 px-6 rounded-lg hover:from-teal-500 hover:to-teal-700 transition-all transform hover:scale-105">
                    🚀 Launch Premium Journey - $18/month
                </button>
                
                <p class="text-xs text-white opacity-70 mt-4">
                    30-day money-back guarantee • Secure payment by Stripe
                </p>
            </div>
        </div>
    </div>

    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievementPopup">
        <div class="flex items-center space-x-3">
            <div class="text-2xl md:text-3xl">🎉</div>
            <div>
                <div class="font-bold">Video Complete!</div>
                <div class="text-sm opacity-80">Next level unlocked!</div>
            </div>
        </div>
    </div>

    <!-- YouTube API -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <script>
        // Learning Videos Data from your curriculum
        const learningVideos = [
            {
                id: 1,
                title: "Introduction to Space Exploration",
                description: "Overview of space exploration history and future",
                icon: "🚀",
                duration: "6 min",
                difficulty: "Beginner",
                videoUrl: "https://youtu.be/EiTpNvksK3k",
                isYouTube: true, 
                objectives: [
                    "Overview of space exploration history",
                    "Major milestones in human space exploration",
                    "The role of space exploration in advancing technology and science",
                    "Future of space exploration (Mars missions, commercial spaceflight)"
                ]
            },
            {
                id: 2,
                title: "Basic Principles of Rocket Science",
                description: "Introduction to rocketry and propulsion fundamentals",
                icon: "🚀",
                duration: "13 min",
                difficulty: "Beginner",
                videoUrl: "https://youtu.be/PryV-565RtI",
                isYouTube: true,
                objectives: [
                    "Introduction to rocketry and propulsion",
                    "Newton's Laws of Motion",
                    "Basic concepts of thrust, gravity, and drag",
                    "Types of rockets and their components"
                ]
            },
            {
                id: 3,
                title: "Orbital Mechanics and Satellites",
                description: "Understanding orbits and satellite operations",
                icon: "🛰️",
                duration: "13 min",
                difficulty: "Intermediate",
                videoUrl: "https://youtu.be/SjOxn5IUwuc",
                isYouTube: true,
                objectives: [
                    "Understanding orbits: circular, elliptical, geostationary",
                    "Kepler's Laws of Planetary Motion",
                    "How satellites stay in orbit",
                    "Types of satellites and their functions"
                ]
            },
            {
                id: 4,
                title: "Space Travel and Astronauts' Journey",
                description: "The journey from Earth to space",
                icon: "👨‍🚀",
                duration: "6 min",
                difficulty: "Beginner",
                videoUrl: "https://youtu.be/ToJr_8CHyuE",
                isYouTube: true,
                objectives: [
                    "The journey of astronauts from Earth to space",
                    "Technology and systems required for space travel",
                    "Life in space: challenges and adaptations (zero gravity, radiation)",
                    "The role of the International Space Station (ISS)"
                ]
            },
            {
                id: 5,
                title: "Rocket Launch and Staging Systems",
                description: "How rocket launches work and staging systems",
                icon: "🚀",
                duration: "4 min",
                difficulty: "Intermediate",
                videoUrl: "https://youtu.be/VUa3pNvfttw",
                isYouTube: true,
                objectives: [
                    "How rocket launches work",
                    "Launch stages: boosters, main stage, and payload separation",
                    "The importance of multi-stage rockets in reaching space",
                    "Examples of famous rocket launches (Apollo missions, Falcon 9)"
                ]
            },
            {
                id: 6,
                title: "Spacecraft Design and Engineering",
                description: "Basics of spacecraft design and engineering",
                icon: "🛸",
                duration: "5 min",
                difficulty: "Intermediate",
                videoUrl: "https://youtu.be/QpKoRyGkkR8",
                isYouTube: true,
                objectives: [
                    "Basics of spacecraft design: structure, thermal protection, propulsion",
                    "How spacecraft are built for different missions (lunar landing, Mars exploration)",
                    "The role of materials and innovations in spacecraft engineering"
                ]
            },
            {
                id: 7,
                title: "Space Missions: Apollo, Mars, and Beyond",
                description: "Detailed history of significant space missions",
                icon: "🌙",
                duration: "8 min",
                difficulty: "Intermediate",
                videoUrl: "https://youtu.be/4qj3ABzNC3w",
                isYouTube: true,
                objectives: [
                    "Detailed history of significant space missions (Apollo 11, Mars Rover)",
                    "What we learned from past missions",
                    "Future missions: Artemis, Mars human landing, deep space exploration"
                ]
            },
            {
                id: 8,
                title: "Space Technologies and Innovations",
                description: "Key technologies that make space exploration possible",
                icon: "⚙️",
                duration: "9 min",
                difficulty: "Intermediate",
                videoUrl: "https://youtu.be/AwFzgFM76pc",
                isYouTube: true,
                objectives: [
                    "Key technologies: ion engines, GPS, communication satellites",
                    "Innovations in materials (heat shields, carbon fiber)",
                    "The role of AI in space exploration"
                ]
            },
            {
                id: 9,
                title: "Space Habitation: Colonizing Mars",
                description: "The concept of sustainable habitats in space",
                icon: "🔴",
                duration: "6 min",
                difficulty: "Advanced",
                videoUrl: "https://youtu.be/OoKbKpjUXfY",
                isYouTube: true,
                objectives: [
                    "The concept of sustainable habitats in space",
                    "Challenges of living on Mars (oxygen, food, water)",
                    "Technologies required to create a self-sustaining colony on Mars",
                    "The role of SpaceX and other private companies in Mars colonization"
                ]
            },
            {
                id: 10,
                title: "The Future of Space Travel",
                description: "Hypersonic, space tourism, and interstellar exploration",
                icon: "🌌",
                duration: "6 min",
                difficulty: "Advanced",
                videoUrl: "https://youtu.be/DiftK0hvHpc",
                isYouTube: true,
                objectives: [
                    "Emerging technologies for faster space travel (hyperloop, spacecraft)",
                    "The future of space tourism: SpaceX, Blue Origin",
                    "Long-term goals: interstellar travel, propulsion systems like nuclear fusion"
                ]
            },
            {
                id: 11,
                title: "The Role of AI and Robotics in Space Exploration",
                description: "AI and robotics in modern space missions",
                icon: "🤖",
                duration: "3 min",
                difficulty: "Advanced",
                videoUrl: "https://youtu.be/Hgn0eolx7eo",
                isYouTube: true,
                objectives: [
                    "AI in space exploration: rovers, autonomous spacecraft, AI mission control",
                    "Robotics in space: robotic arms, robotic probes, and autonomous systems",
                    "Real-world examples: Mars rovers, European Space Agency's robotics"
                ]
            },
            {
                id: 12,
                title: "Space Law and International Cooperation",
                description: "Introduction to space law and treaties",
                icon: "⚖️",
                duration: "5 min",
                difficulty: "Advanced",
                videoUrl: "https://youtu.be/NET3RRWr48Y",
                isYouTube: true,
                objectives: [
                    "Introduction to space law and treaties (Outer Space Treaty, Moon Agreement)",
                    "How international space cooperation works: ISS, joint missions",
                    "Future challenges in space governance (asteroid mining, space debris)"
                ]
            },
            {
                id: 13,
                title: "Space Exploration and Earth: Benefits to Humanity",
                description: "Space technologies that benefit life on Earth",
                icon: "🌍",
                duration: "6 min",
                difficulty: "Intermediate",
                videoUrl: "https://youtu.be/hNLrR1H58JI",
                isYouTube: true,
                objectives: [
                    "Space technologies that benefit life on Earth (satellite communication, weather forecasting)",
                    "Environmental monitoring and disaster management using space tech",
                    "How space exploration inspires innovation in various fields (materials science, medicine)"
                ]
            },
            {
                id: 14,
                title: "Introduction to Space Robotics",
                description: "From rovers to space stations",
                icon: "🤖",
                duration: "9 min",
                difficulty: "Advanced",
                videoUrl: "https://youtu.be/-EizlTK8kAU",
                isYouTube: true,
                objectives: [
                    "The importance of robotics in space exploration",
                    "How rovers work: mobility, communication, sensors",
                    "Robotic arms and other space-based robots: uses in assembly and maintenance (ISS)"
                ]
            }
        ];

        // YouTube Player Variables
        let youtubePlayer = null;
        let youtubePlayerReady = false;
        let currentVideoId = null;
        let watchedTime = 0;
        let totalDuration = 0;
        let lastTimeUpdate = 0;
        let isVideoCompleted = false;
        let checkInterval = null;

        // YouTube API Ready Callback
        function onYouTubeIframeAPIReady() {
            // YouTube API is ready
        }

        // Extract YouTube Video ID from URL
        function getYouTubeVideoId(url) {
            const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

        // Learning Progress Manager
        class LearningProgressManager {
            constructor() {
                this.state = {
                    completedVideos: JSON.parse(localStorage.getItem('xploreon_completed_videos') || '[]'),
                    videoProgress: JSON.parse(localStorage.getItem('xploreon_video_progress') || '{}'),
                    totalWatchTime: parseInt(localStorage.getItem('xploreon_watch_time') || '0'),
                    streakCount: parseInt(localStorage.getItem('xploreon_streak') || '0'),
                    lastActiveDate: localStorage.getItem('xploreon_last_date') || null
                };
                this.currentVideoId = null;
                this.updateStreak();
            }

            updateStreak() {
                const today = new Date().toDateString();
                const lastDate = this.state.lastActiveDate;
                
                if (lastDate === today) {
                    return;
                } else if (lastDate) {
                    const last = new Date(lastDate);
                    const current = new Date(today);
                    const diffTime = Math.abs(current - last);
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                    
                    if (diffDays === 1) {
                        this.state.streakCount++;
                    } else if (diffDays > 1) {
                        this.state.streakCount = 1;
                    }
                } else {
                    this.state.streakCount = 1;
                }
                
                this.state.lastActiveDate = today;
                this.saveState();
            }

            isVideoUnlocked(videoId) {
                if (videoId === 1) return true;
                return this.state.completedVideos.includes(videoId - 1);
            }

            isVideoCompleted(videoId) {
                return this.state.completedVideos.includes(videoId);
            }

            completeVideo(videoId) {
                if (!this.state.completedVideos.includes(videoId)) {
                    this.state.completedVideos.push(videoId);
                    
                    const video = learningVideos.find(v => v.id === videoId);
                    if (video) {
                        const duration = parseInt(video.duration);
                        this.state.totalWatchTime += duration;
                    }
                    
                    this.state.videoProgress[videoId] = {
                        completedAt: new Date().toISOString(),
                        watchedFully: true
                    };
                    
                    this.saveState();
                    this.showAchievement();
                    this.updateProgress();
                    
                    // Check if all videos are completed
                    if (this.state.completedVideos.length === 14) {
                        this.promptForCertificateName();
                    }
                }
            }

            promptForCertificateName() {
                // Just show completion message without asking for name
                // Name will be asked when user clicks certificate button
                const completionPopup = document.getElementById('achievementPopup');
                if (completionPopup) {
                    completionPopup.innerHTML = `
                        <div class="flex items-center space-x-3">
                            <div class="text-2xl md:text-3xl">🏆</div>
                            <div>
                                <div class="font-bold">All Lessons Complete!</div>
                                <div class="text-sm opacity-80">Click certificate to get yours!</div>
                            </div>
                        </div>
                    `;
                    completionPopup.classList.add('show');
                    setTimeout(() => completionPopup.classList.remove('show'), 4000);
                }
            }

            getProgress() {
                const completed = this.state.completedVideos.length;
                const total = learningVideos.length;
                return {
                    percentage: Math.round((completed / total) * 100),
                    completed,
                    total
                };
            }

            formatTime(minutes) {
                const hours = Math.floor(minutes / 60);
                const mins = minutes % 60;
                return `${hours}h ${mins}m`;
            }

            saveState() {
                localStorage.setItem('xploreon_completed_videos', JSON.stringify(this.state.completedVideos));
                localStorage.setItem('xploreon_video_progress', JSON.stringify(this.state.videoProgress));
                localStorage.setItem('xploreon_watch_time', this.state.totalWatchTime.toString());
                localStorage.setItem('xploreon_streak', this.state.streakCount.toString());
                localStorage.setItem('xploreon_last_date', this.state.lastActiveDate);
            }

            updateProgress() {
                const progress = this.getProgress();
                
                // Update progress displays with error checking
                const elements = {
                    progressPercentage: document.getElementById('progressPercentage'),
                    progressText: document.getElementById('progressText'),
                    progressBar: document.getElementById('progressBar'),
                    totalTime: document.getElementById('totalTime'),
                    completedVideos: document.getElementById('completedVideos'),
                    streakCount: document.getElementById('streakCount'),
                    certificateStatus: document.getElementById('certificateStatus'),
                    certificateInfo: document.getElementById('certificateInfo')
                };
                
                Object.keys(elements).forEach(key => {
                    if (!elements[key]) {
                        console.warn(`Element ${key} not found`);
                    }
                });
                
                if (elements.progressPercentage) elements.progressPercentage.textContent = `${progress.percentage}%`;
                if (elements.progressText) elements.progressText.textContent = `${progress.completed}/14 Videos Complete`;
                if (elements.progressBar) elements.progressBar.style.width = `${progress.percentage}%`;
                if (elements.totalTime) elements.totalTime.textContent = this.formatTime(this.state.totalWatchTime);
                if (elements.completedVideos) elements.completedVideos.textContent = progress.completed;
                if (elements.streakCount) elements.streakCount.textContent = this.state.streakCount;
                
                // Update certificate status and info
                if (elements.certificateStatus && elements.certificateInfo) {
                    if (progress.completed === 14) {
                        elements.certificateStatus.textContent = '🏆';
                        elements.certificateInfo.textContent = 'Ready to download!';
                        elements.certificateStatus.parentElement.style.background = 'linear-gradient(135deg, #ffd700, #ffed4a)';
                        elements.certificateStatus.parentElement.style.color = '#000';
                    } else {
                        elements.certificateStatus.textContent = `${progress.completed}/14`;
                        elements.certificateInfo.textContent = `${14 - progress.completed} videos remaining`;
                        elements.certificateStatus.parentElement.style.background = '';
                        elements.certificateStatus.parentElement.style.color = '';
                    }
                }
                
                // Update progress ring
                const ring = document.querySelector('.progress-ring');
                if (ring) {
                    ring.style.background = `conic-gradient(from 0deg, #00ffe0 0%, #0099cc ${progress.percentage * 3.6}deg, #333 ${progress.percentage * 3.6}deg)`;
                }
                
                this.updateCertificateModal();
            }

            showAchievement() {
                const popup = document.getElementById('achievementPopup');
                if (popup) {
                    popup.classList.add('show');
                    setTimeout(() => popup.classList.remove('show'), 3000);
                }
            }

            updateCertificateModal() {
                const progress = this.getProgress();
                const certificateIcon = document.getElementById('certificateIcon');
                const certificateTitle = document.getElementById('certificateTitle');
                const certificateDescription = document.getElementById('certificateDescription');
                const certificateProgress = document.getElementById('certificateProgress');
                const certificateProgressBar = document.getElementById('certificateProgressBar');
                const downloadBtn = document.getElementById('downloadCertificate');
                const downloadButtonText = document.getElementById('downloadButtonText');
                
                if (certificateProgress) {
                    certificateProgress.textContent = `${progress.completed}/14 Videos Completed`;
                }
                
                if (certificateProgressBar) {
                    certificateProgressBar.style.width = `${progress.percentage}%`;
                }
                
                if (progress.completed === 14) {
                    if (certificateIcon) certificateIcon.textContent = '🏆';
                    if (certificateTitle) certificateTitle.textContent = 'Certificate Ready!';
                    if (certificateDescription) certificateDescription.textContent = 'Congratulations! You have completed all 14 lessons and earned your Space Explorer Certificate.';
                    if (downloadBtn) {
                        downloadBtn.disabled = false;
                        downloadBtn.className = 'w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-lg transition-all transform hover:scale-105';
                    }
                    if (downloadButtonText) downloadButtonText.innerHTML = '📜 Download Your Certificate';
                } else {
                    if (certificateIcon) certificateIcon.textContent = '🔒';
                    if (certificateTitle) certificateTitle.textContent = 'Certificate Locked';
                    if (certificateDescription) certificateDescription.textContent = 'Complete all 14 video lessons to unlock your official Space Explorer Certificate';
                    if (downloadBtn) {
                        downloadBtn.disabled = true;
                        downloadBtn.className = 'w-full bg-gray-600 text-white font-bold py-4 px-6 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed';
                    }
                    if (downloadButtonText) downloadButtonText.innerHTML = `🔒 Complete ${14 - progress.completed} More Videos`;
                }
            }
        }

        // Initialize Progress Manager
        const progressManager = new LearningProgressManager();

        // Initialize starfield
        function createStarfield() {
            const starfield = document.getElementById('starfield');
            if (!starfield) return;
            
            for (let i = 0; i < 50; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 4 + 's';
                starfield.appendChild(star);
            }
        }

        // Initialize learning path
        function initializeLearningPath() {
            const container = document.getElementById('learningPath');
            if (!container) return;
            
            container.innerHTML = '';

            learningVideos.forEach((video) => {
                const isCompleted = progressManager.isVideoCompleted(video.id);
                const isUnlocked = progressManager.isVideoUnlocked(video.id);
                const isLocked = !isUnlocked;

                const videoCard = document.createElement('div');
                videoCard.className = `step-card text-center relative ${
                    isCompleted ? 'step-completed' : isLocked ? 'step-locked' : ''
                }`;

                // Create the status display at the bottom based on the actual video state
                let statusHtml = '';
                if (isCompleted) {
                    statusHtml = '<div class="bg-green-500 bg-opacity-20 text-green-300 py-2 px-4 rounded-lg text-sm">✅ Completed</div>';
                } else if (isLocked) {
                    statusHtml = '<div class="bg-gray-500 bg-opacity-20 text-gray-400 py-2 px-4 rounded-lg text-sm">🔒 Complete previous video</div>';
                } else {
                    statusHtml = `<button class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors w-full text-sm" onclick="openVideo(${video.id})">🎥 Watch Video</button>`;
                }

                videoCard.innerHTML = `
                    <div class="step-icon ${isCompleted ? 'step-completed' : isLocked ? 'step-locked' : ''}">
                        ${isCompleted ? '✅' : isLocked ? '🔒' : video.icon}
                    </div>
                    
                    <h3 class="text-lg font-bold mb-2">${video.title}</h3>
                    <p class="text-sm opacity-80 mb-4">${video.description}</p>
                    
                    <div class="flex justify-between items-center text-xs mb-4">
                        <span class="flex items-center space-x-1">
                            <span>⏱️</span>
                            <span>${video.duration}</span>
                        </span>
                        <span class="flex items-center space-x-1">
                            <span>📊</span>
                            <span>${video.difficulty}</span>
                        </span>
                    </div>
                    
                    <div class="mt-4">
                        ${statusHtml}
                    </div>
                `;

                if (!isLocked) {
                    videoCard.style.cursor = 'pointer';
                    videoCard.onclick = () => openVideo(video.id);
                }

                container.appendChild(videoCard);
            });
        }

        // YouTube Player State Change Handler
        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                startWatchTimeTracking();
            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                stopWatchTimeTracking();
            }

            if (event.data === YT.PlayerState.ENDED) {
                checkVideoCompletion();
            }
        }

        // YouTube Player Ready Handler
        function onPlayerReady(event) {
            youtubePlayerReady = true;
            totalDuration = youtubePlayer.getDuration();
        }

        // Start tracking watch time
        function startWatchTimeTracking() {
            if (checkInterval) clearInterval(checkInterval);
            
            checkInterval = setInterval(() => {
                if (youtubePlayer && youtubePlayerReady) {
                    const currentTime = youtubePlayer.getCurrentTime();
                    
                    // Only count forward progression
                    if (currentTime > lastTimeUpdate && (currentTime - lastTimeUpdate) < 2) {
                        watchedTime += (currentTime - lastTimeUpdate);
                    }
                    
                    lastTimeUpdate = currentTime;
                    checkVideoCompletion();
                }
            }, 1000);
        }

        // Stop tracking watch time
        function stopWatchTimeTracking() {
            if (checkInterval) {
                clearInterval(checkInterval);
                checkInterval = null;
            }
        }

        // Check video completion
        function checkVideoCompletion() {
            if (!youtubePlayer || !youtubePlayerReady || isVideoCompleted) return;

            const duration = youtubePlayer.getDuration();
            const currentTime = youtubePlayer.getCurrentTime();
            
            // Require 90% watch time and 95% progress
            const requiredWatchTime = duration * 0.9;
            const requiredProgress = duration * 0.95;
            
            if (watchedTime >= requiredWatchTime && currentTime >= requiredProgress) {
                isVideoCompleted = true;
                
                if (!progressManager.isVideoCompleted(currentVideoId)) {
                    progressManager.completeVideo(currentVideoId);
                    initializeLearningPath();
                    
                    // Update status below video
                    const videoStatus = document.getElementById('videoStatus');
                    if (videoStatus) {
                        videoStatus.innerHTML = '🎉 Video completed! Well done!';
                        videoStatus.className = 'bg-green-500 bg-opacity-20 text-green-300 py-2 px-4 rounded-lg text-sm w-full md:w-auto text-center';
                    }
                }
            }
        }

        // Open video modal
        function openVideo(videoId) {
            const video = learningVideos.find(v => v.id === videoId);
            if (!video) return;

            currentVideoId = videoId;
            watchedTime = 0;
            lastTimeUpdate = 0;
            isVideoCompleted = false;

            const modal = document.getElementById('videoModal');
            const title = document.getElementById('videoTitle');
            const objectives = document.getElementById('learningObjectives');
            const duration = document.getElementById('videoDuration');
            const videoStatus = document.getElementById('videoStatus');
            const youtubeContainer = document.getElementById('youtubeContainer');
            const videoContainer = document.getElementById('videoContainer');

            if (title) title.textContent = `Video ${video.id}: ${video.title}`;
            if (duration) duration.textContent = video.duration;

            // Reset video status
            if (videoStatus) {
                videoStatus.innerHTML = '🎥 Watch to completion for auto-progress';
                videoStatus.className = 'bg-blue-500 bg-opacity-20 text-blue-300 py-2 px-4 rounded-lg text-sm w-full md:w-auto text-center';
            }

            if (objectives) {
                objectives.innerHTML = '';
                video.objectives.forEach(objective => {
                    const li = document.createElement('li');
                    li.className = 'flex items-start space-x-2';
                    li.innerHTML = `
                        <span class="text-cyan-400 mt-1 text-sm">✓</span>
                        <span class="text-sm">${objective}</span>
                    `;
                    objectives.appendChild(li);
                });
            }

            // Handle YouTube vs regular video
            if (video.isYouTube) {
                const videoIdYT = getYouTubeVideoId(video.videoUrl);
                if (videoIdYT) {
                    // Show YouTube container, hide regular video container
                    if (youtubeContainer) youtubeContainer.style.display = 'block';
                    if (videoContainer) videoContainer.style.display = 'none';

                    // Destroy existing player if any
                    if (youtubePlayer) {
                        youtubePlayer.destroy();
                    }

                    // Create new YouTube player with enhanced restrictions
                    youtubePlayer = new YT.Player('youtubePlayer', {
                        width: '100%',
                        height: '100%',
                        videoId: videoIdYT,
                        playerVars: {
                            autoplay: 0,
                            controls: 1,
                            rel: 0,
                            showinfo: 0,
                            modestbranding: 1,
                            fs: 1,
                            cc_load_policy: 0,
                            iv_load_policy: 3,
                            disablekb: 1,
                            playsinline: 1,
                            origin: window.location.origin,
                            widget_referrer: window.location.origin,
                            enablejsapi: 1,
                            // Minimize YouTube branding (within ToS limits)
                            color: 'white',
                            theme: 'dark'
                        },
                        events: {
                            onReady: function(event) {
                                onPlayerReady(event);
                                // Try to disable speed controls (limited by YouTube API)
                                try {
                                    const iframe = event.target.getIframe();
                                    iframe.style.pointerEvents = 'auto';
                                } catch (e) {
                                    console.log('Speed control restriction not available');
                                }
                            },
                            onStateChange: onPlayerStateChange
                        }
                    });
                }
            } else {
                // Show regular video container, hide YouTube container
                if (youtubeContainer) youtubeContainer.style.display = 'none';
                if (videoContainer) videoContainer.style.display = 'block';

                const videoPlayer = document.getElementById('videoPlayer');
                if (videoPlayer) {
                    videoPlayer.src = video.videoUrl;
                    setupNonSkippableControls(videoPlayer, videoId);
                }
            }

            if (modal) modal.style.display = 'block';
            progressManager.currentVideoId = videoId;
        }

        // Non-skippable video controls for regular videos
        function setupNonSkippableControls(videoElement, videoId) {
            const playPauseBtn = document.getElementById('playPauseBtn');
            const playPauseIcon = document.getElementById('playPauseIcon');
            const fullscreenBtn = document.getElementById('fullscreenBtn');
            const fullscreenIcon = document.getElementById('fullscreenIcon');
            const progressFill = document.getElementById('progressFill');
            const timeDisplay = document.getElementById('timeDisplay');
            const progressBarVideo = document.getElementById('progressBarVideo');
            const videoContainer = document.getElementById('videoContainer');
            
            let actualWatchTime = 0;
            let lastTime = 0;
            let hasCompletedVideo = false;
            
            // Disable default controls and prevent speed changes
            videoElement.controls = false;
            videoElement.controlsList = 'nodownload nofullscreen noremoteplayback noseek';
            videoElement.disablePictureInPicture = true;
            
            // Prevent right-click context menu
            videoElement.addEventListener('contextmenu', (e) => e.preventDefault());
            
            // Prevent keyboard shortcuts
            videoElement.addEventListener('keydown', (e) => {
                e.preventDefault();
                return false;
            });
            
            // Play/Pause button
            if (playPauseBtn) {
                playPauseBtn.onclick = () => {
                    if (videoElement.paused) {
                        videoElement.play();
                    } else {
                        videoElement.pause();
                    }
                };
            }

            // Fullscreen button
            if (fullscreenBtn) {
                fullscreenBtn.onclick = () => {
                    if (!document.fullscreenElement) {
                        if (videoContainer.requestFullscreen) {
                            videoContainer.requestFullscreen();
                        } else if (videoContainer.mozRequestFullScreen) {
                            videoContainer.mozRequestFullScreen();
                        } else if (videoContainer.webkitRequestFullscreen) {
                            videoContainer.webkitRequestFullscreen();
                        } else if (videoContainer.msRequestFullscreen) {
                            videoContainer.msRequestFullscreen();
                        }
                    } else {
                        if (document.exitFullscreen) {
                            document.exitFullscreen();
                        } else if (document.mozCancelFullScreen) {
                            document.mozCancelFullScreen();
                        } else if (document.webkitExitFullscreen) {
                            document.webkitExitFullscreen();
                        } else if (document.msExitFullscreen) {
                            document.msExitFullscreen();
                        }
                    }
                };
            }

            // Listen for fullscreen changes
            document.addEventListener('fullscreenchange', updateFullscreenIcon);
            document.addEventListener('mozfullscreenchange', updateFullscreenIcon);
            document.addEventListener('webkitfullscreenchange', updateFullscreenIcon);
            document.addEventListener('msfullscreenchange', updateFullscreenIcon);

            function updateFullscreenIcon() {
                if (fullscreenIcon) {
                    fullscreenIcon.textContent = document.fullscreenElement ? '⊙' : '⛶';
                }
            }
            
            // Update play/pause icon
            videoElement.addEventListener('play', () => {
                if (playPauseIcon) playPauseIcon.textContent = '⏸';
                lastTime = videoElement.currentTime;
            });
            
            videoElement.addEventListener('pause', () => {
                if (playPauseIcon) playPauseIcon.textContent = '▶';
            });
            
            // Track actual watch time
            videoElement.addEventListener('timeupdate', () => {
                const currentTime = videoElement.currentTime;
                const duration = videoElement.duration;
                
                if (currentTime > lastTime && currentTime - lastTime < 2) {
                    actualWatchTime += (currentTime - lastTime);
                }
                lastTime = currentTime;
                
                // Update progress bar
                if (duration > 0) {
                    const progressPercent = (currentTime / duration) * 100;
                    if (progressFill) progressFill.style.width = progressPercent + '%';
                    
                    // Update time display
                    const currentMin = Math.floor(currentTime / 60);
                    const currentSec = Math.floor(currentTime % 60);
                    const totalMin = Math.floor(duration / 60);
                    const totalSec = Math.floor(duration % 60);
                    
                    if (timeDisplay) {
                        timeDisplay.textContent = `${currentMin}:${currentSec.toString().padStart(2, '0')} / ${totalMin}:${totalSec.toString().padStart(2, '0')}`;
                    }
                }
                
                // Check completion (90% watch requirement)
                const requiredWatchTime = duration * 0.9;
                if (actualWatchTime >= requiredWatchTime && currentTime >= duration * 0.95 && !hasCompletedVideo) {
                    hasCompletedVideo = true;
                    if (!progressManager.isVideoCompleted(videoId)) {
                        progressManager.completeVideo(videoId);
                        initializeLearningPath();
                        
                        const statusElement = document.getElementById('videoStatus');
                        if (statusElement) {
                            statusElement.innerHTML = '🎉 Video completed! Well done!';
                            statusElement.className = 'bg-green-500 bg-opacity-20 text-green-300 py-2 px-4 rounded-lg text-sm w-full md:w-auto text-center';
                        }
                    }
                }
            });
            
            // Prevent seeking
            videoElement.addEventListener('seeked', () => {
                const currentTime = videoElement.currentTime;
                
                if (currentTime > lastTime + 5) {
                    videoElement.currentTime = lastTime;
                    
                    const warning = document.createElement('div');
                    warning.style.cssText = `
                        position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
                        background: rgba(255, 0, 0, 0.9); color: white; padding: 1rem 2rem;
                        border-radius: 10px; z-index: 1000; font-weight: bold;
                    `;
                    warning.textContent = '⚠️ Skipping not allowed! Please watch the full video.';
                    document.body.appendChild(warning);
                    
                    setTimeout(() => {
                        if (warning.parentNode) {
                            warning.parentNode.removeChild(warning);
                        }
                    }, 3000);
                }
            });
            
            // Disable progress bar clicking
            if (progressBarVideo) {
                progressBarVideo.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                });
            }
        }

        // Close video modal
        function closeVideoModal() {
            const modal = document.getElementById('videoModal');
            const videoPlayer = document.getElementById('videoPlayer');
            
            // Stop YouTube tracking
            stopWatchTimeTracking();
            
            // Destroy YouTube player
            if (youtubePlayer) {
                youtubePlayer.destroy();
                youtubePlayer = null;
                youtubePlayerReady = false;
            }

            // Reset regular video player
            if (videoPlayer) {
                videoPlayer.pause();
                videoPlayer.currentTime = 0;
                videoPlayer.src = '';
            }

            // Exit fullscreen if active
            if (document.fullscreenElement) {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
            }
            
            if (modal) modal.style.display = 'none';
            
            // Reset tracking variables
            currentVideoId = null;
            watchedTime = 0;
            lastTimeUpdate = 0;
            isVideoCompleted = false;
        }

        // Certificate functions
        function openCertificateModal() {
            const modal = document.getElementById('certificateModal');
            progressManager.updateCertificateModal();
            if (modal) modal.style.display = 'block';
        }

        function closeCertificateModal() {
            const modal = document.getElementById('certificateModal');
            if (modal) modal.style.display = 'none';
        }

        function downloadCertificateImage() {
            const progress = progressManager.getProgress();
            if (progress.completed < 14) {
                alert('Please complete all 14 videos to download your certificate.');
                return;
            }

            // Get or prompt for student name
            let studentName = localStorage.getItem('xploreon_student_name');
            if (!studentName) {
                studentName = prompt('🎉 Congratulations! Enter your name for the certificate:') || 'Space Explorer';
                localStorage.setItem('xploreon_student_name', studentName);
            }

            // Create certificate canvas
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // Set high resolution for crisp image
            canvas.width = 1200;
            canvas.height = 800;
            
            // Create gradient background
            const bgGradient = ctx.createRadialGradient(600, 400, 0, 600, 400, 800);
            bgGradient.addColorStop(0, '#1a0a2a');
            bgGradient.addColorStop(0.4, '#0a1a3a');
            bgGradient.addColorStop(1, '#0a0a1a');
            ctx.fillStyle = bgGradient;
            ctx.fillRect(0, 0, 1200, 800);

            // Add stars
            ctx.fillStyle = '#ffffff';
            for (let i = 0; i < 100; i++) {
                const x = Math.random() * 1200;
                const y = Math.random() * 800;
                const size = Math.random() * 2 + 1;
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }

            // Draw border
            const borderGradient = ctx.createLinearGradient(0, 0, 1200, 800);
            borderGradient.addColorStop(0, '#ffd700');
            borderGradient.addColorStop(0.25, '#00ffe0');
            borderGradient.addColorStop(0.5, '#ff6b35');
            borderGradient.addColorStop(0.75, '#00ffe0');
            borderGradient.addColorStop(1, '#ffd700');
            
            ctx.strokeStyle = borderGradient;
            ctx.lineWidth = 8;
            ctx.strokeRect(20, 20, 1160, 760);

            // Certificate content
            ctx.textAlign = 'center';
            ctx.fillStyle = '#ffd700';
            
            // Title
            ctx.font = 'bold 48px Orbitron, sans-serif';
            ctx.fillText('COSMIC ACHIEVEMENT', 600, 120);
            
            ctx.font = '24px Orbitron, sans-serif';
            ctx.fillStyle = '#00ffe0';
            ctx.fillText('Space Explorer Certification', 600, 160);

            // Student name section
            ctx.fillStyle = '#ffffff';
            ctx.font = '20px Orbitron, sans-serif';
            ctx.fillText('This certifies that', 600, 250);
            
            ctx.fillStyle = '#00ffe0';
            ctx.font = 'bold 36px Orbitron, sans-serif';
            ctx.fillText(studentName, 600, 300);
            
            ctx.fillStyle = '#ffffff';
            ctx.font = '20px Orbitron, sans-serif';
            ctx.fillText('has successfully completed the comprehensive', 600, 340);

            // Course title
            ctx.fillStyle = '#ffd700';
            ctx.font = 'bold 32px Orbitron, sans-serif';
            ctx.fillText('Space Exploration Masterclass', 600, 400);

            // Description
            ctx.fillStyle = '#ffffff';
            ctx.font = '16px Orbitron, sans-serif';
            const description = [
                'Demonstrating exceptional mastery in rocket science, orbital mechanics,',
                'space missions, and advanced space exploration technologies.',
                'This achievement represents dedication to understanding the cosmos',
                'and the pursuit of knowledge beyond our world.'
            ];
            
            description.forEach((line, index) => {
                ctx.fillText(line, 600, 450 + (index * 25));
            });

            // Signatures
            ctx.fillStyle = '#00ffe0';
            ctx.font = 'bold 18px Orbitron, sans-serif';
            ctx.fillText('Avikam Deol', 200, 650);
            ctx.strokeStyle = '#00ffe0';

            ctx.font = '14px Orbitron, sans-serif';
            ctx.fillText('Founder & CEO', 200, 675);
            ctx.fillText('Xploreon', 200, 695);

            // Date
            const completionDate = new Date().toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            ctx.fillText(completionDate, 1000, 650);

            ctx.fillText('Date of Completion', 1000, 675);
            ctx.fillText('Earth Standard Time', 1000, 695);

            // Rocket emoji (simplified as circle for canvas)
            ctx.fillStyle = '#ff6b35';
            ctx.beginPath();
            ctx.arc(600, 600, 40, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillStyle = '#ffffff';
            ctx.font = '30px Arial';
            ctx.fillText('🚀', 600, 610);

            // Certificate ID
            const certificateId = 'XPL-' + Date.now().toString(36).toUpperCase();
            ctx.fillStyle = 'rgba(255,255,255,0.5)';
            ctx.font = '12px Orbitron, sans-serif';
            ctx.textAlign = 'right';
            ctx.fillText(`Certificate ID: ${certificateId}`, 1180, 780);

            // Download the image
            canvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `Space_Explorer_Certificate_${studentName.replace(/\s+/g, '_')}.png`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                alert(`🎉 Certificate image downloaded successfully for ${studentName}!`);
            }, 'image/png', 1.0);
        }

        // Enhanced Mobile menu toggle function
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const toggle = document.getElementById('menuToggle');
            
            if (mobileMenu && toggle) {
                mobileMenu.classList.toggle('show');
                toggle.classList.toggle('active');
            }
        }

        // Premium modal functions
        function openPremiumModal() {
            const modal = document.getElementById('premiumModal');
            if (modal) modal.style.display = 'block';
        }

        function closePremiumModal() {
            const modal = document.getElementById('premiumModal');
            if (modal) modal.style.display = 'none';
        }

        function redirectToPayment() {
            window.open('https://buy.stripe.com/4gM8wI1C333x1i3fdVc7u0b', '_blank');
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            try {
                createStarfield();
                initializeLearningPath();
                progressManager.updateProgress();
                
                // Enhanced menu toggle
                const menuToggle = document.getElementById('menuToggle');
                if (menuToggle) {
                    menuToggle.addEventListener('click', toggleMobileMenu);
                }

                // Close mobile menu when clicking backdrop
                const backdrop = document.querySelector('.mobile-menu-backdrop');
                if (backdrop) {
                    backdrop.addEventListener('click', () => {
                        const mobileMenu = document.getElementById('mobileMenu');
                        const toggle = document.getElementById('menuToggle');
                        if (mobileMenu && toggle) {
                            mobileMenu.classList.remove('show');
                            toggle.classList.remove('active');
                        }
                    });
                }

                // Close menu when clicking outside
                document.addEventListener('click', (e) => {
                    const mobileMenu = document.getElementById('mobileMenu');
                    const toggle = document.getElementById('menuToggle');
                    if (toggle && mobileMenu && !toggle.contains(e.target) && !mobileMenu.contains(e.target)) {
                        mobileMenu.classList.remove('show');
                        toggle.classList.remove('active');
                    }
                });

                // Close menu on escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        const mobileMenu = document.getElementById('mobileMenu');
                        const toggle = document.getElementById('menuToggle');
                        if (mobileMenu && toggle) {
                            mobileMenu.classList.remove('show');
                            toggle.classList.remove('active');
                        }
                    }
                });
            } catch (error) {
                console.error('Initialization error:', error);
            }
        });

        // Close modals when clicking outside
        window.onclick = function(event) {
            const modals = ['videoModal', 'premiumModal', 'certificateModal'];
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (modal && event.target === modal) {
                    if (modalId === 'videoModal') {
                        closeVideoModal();
                    } else {
                        modal.style.display = 'none';
                    }
                }
            });
        }

        // Handle escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const modals = ['videoModal', 'premiumModal', 'certificateModal'];
                modals.forEach(modalId => {
                    const modal = document.getElementById(modalId);
                    if (modal && modal.style.display === 'block') {
                        if (modalId === 'videoModal') {
                            closeVideoModal();
                        } else {
                            modal.style.display = 'none';
                        }
                    }
                });
                
                const mobileMenu = document.getElementById('mobileMenu');
                if (mobileMenu && mobileMenu.classList.contains('show')) {
                    toggleMobileMenu();
                }
            }
        });

        // Handle window resize
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                const mobileMenu = document.getElementById('mobileMenu');
                const toggle = document.getElementById('menuToggle');
                
                if (mobileMenu && toggle) {
                    mobileMenu.classList.remove('show');
                    toggle.classList.remove('active');
                }
            }
        });

        // Error handling for missing elements
        function safeElementOperation(elementId, operation) {
            try {
                const element = document.getElementById(elementId);
                if (element) {
                    operation(element);
                } else {
                    console.warn(`Element with ID '${elementId}' not found`);
                }
            } catch (error) {
                console.error(`Error operating on element '${elementId}':`, error);
            }
        }

        // Enhanced error handling for YouTube API
        window.addEventListener('error', function(event) {
            if (event.error && event.error.message.includes('YouTube')) {
                console.error('YouTube API Error:', event.error);
                // Fallback behavior could go here
            }
        });

        // Prevent common errors
        window.addEventListener('unhandledrejection', function(event) {
            console.error('Unhandled promise rejection:', event.reason);
            event.preventDefault();
        });
    </script>








<!-- chatbot-->  
 <!-- Optimized Background -->
    <div class="background-animation" id="backgroundAnimation"></div>

    <!-- Chatbot Widget -->
    <div class="xploreon-chatbot">
        <button class="chatbot-toggle" onclick="toggleChatbot()">
            <div class="notification-badge" id="notificationBadge" style="display: none;">1</div>
            <div class="humanoid-face"><img src="chat.png" alt="Chatbot Logo" style="width: 65%; height: 65%; object-fit: cover;"></div>
        </button>
        
        <div class="chatbot-window" id="chatbotWindow">
          
  <div class="chatbot-inner-stars" id="chatbotInnerStars"></div>

          <div class="voice-visualization" id="voiceVisualization">
                <div class="voice-bars">
                    <div class="voice-bar"></div>
                    <div class="voice-bar"></div>
                    <div class="voice-bar"></div>
                    <div class="voice-bar"></div>
                    <div class="voice-bar"></div>
                </div>
            </div>
            
            <div class="chatbot-header">
                <div class="chatbot-header-content">
                    <div class="chatbot-avatar humanoid-avatar">
                        <div class="humanoid-face"><img src="chat.png" alt="Chatbot Logo" style="width: 65%; height: 65%; object-fit: cover;"></div>
                    </div>
                    <div>
                        <h3>XPLOVIS</h3>
                        <div class="chatbot-status">Xploreon's AI</div>
                    </div>
                </div>
                <button class="close-btn" onclick="toggleChatbot()">×</button>
            </div>
            
            <div class="chatbot-messages" id="chatbotMessages">
                <!-- Initial greeting will be added here -->
            </div>
            
            <div class="typing-indicator" id="typingIndicator">
                <div class="loading-animation">
                    Thinking
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            </div>
            
            <div class="chatbot-input">
                <div class="input-container">
                    <input type="text" id="chatbotInput" placeholder="Ask me anything or use voice..." onkeypress="handleKeyPress(event)">
                    <button class="mic-button" id="micButton" onclick="toggleVoiceInput()">
                        🎤
                        <div class="voice-status" id="voiceStatus">Listening...</div>
                    </button>
                </div>
                <button class="send-button" onclick="sendMessage()" id="sendButton">
                    <span>Send</span>
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Voice functionality
        class VoiceManager {
            constructor() {
                this.recognition = null;
                this.synthesis = window.speechSynthesis;
                this.isListening = false;
                this.isSpeaking = false;
                this.maleVoice = null;
                this.voiceMode = false; // Track if user is using voice
                
                this.initializeVoice();
            }

            initializeVoice() {
                // Initialize Speech Recognition
                if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                    this.recognition = new SpeechRecognition();
                    
                    this.recognition.continuous = false;
                    this.recognition.interimResults = false;
                    this.recognition.lang = 'en-US';
                    
                    this.recognition.onstart = () => {
                        this.isListening = true;
                        this.updateVoiceUI();
                    };
                    
                    this.recognition.onresult = (event) => {
                        const transcript = event.results[0][0].transcript;
                        document.getElementById('chatbotInput').value = transcript;
                        this.voiceMode = true; // Enable voice responses
                        sendMessage();
                    };
                    
                    this.recognition.onerror = (event) => {
                        console.error('Speech recognition error:', event.error);
                        this.stopListening();
                    };
                    
                    this.recognition.onend = () => {
                        this.stopListening();
                    };
                }

                // Initialize Text-to-Speech with male voice
                this.initializeSpeechSynthesis();
            }

            initializeSpeechSynthesis() {
                const setVoice = () => {
                    const voices = this.synthesis.getVoices();
                    // Try to find a male voice
                    this.maleVoice = voices.find(voice => 
                        voice.name.toLowerCase().includes('male') ||
                        voice.name.toLowerCase().includes('david') ||
                        voice.name.toLowerCase().includes('alex') ||
                        voice.name.toLowerCase().includes('daniel') ||
                        voice.name.toLowerCase().includes('mark')
                    ) || voices.find(voice => voice.lang.startsWith('en')) || voices[0];
                };

                if (this.synthesis.getVoices().length === 0) {
                    this.synthesis.addEventListener('voiceschanged', setVoice);
                } else {
                    setVoice();
                }
            }

            startListening() {
                if (this.recognition && !this.isListening) {
                    // Stop any ongoing speech when user wants to speak
                    this.stopSpeaking();
                    this.recognition.start();
                }
            }

            stopListening() {
                this.isListening = false;
                this.updateVoiceUI();
            }

            speak(text) {
                if (this.synthesis && this.maleVoice && this.voiceMode) {
                    // Cancel any ongoing speech
                    this.synthesis.cancel();
                    
                    // Clean text for speech (remove HTML tags and special characters)
                    const cleanText = text
                        .replace(/<[^>]*>/g, ' ')
                        .replace(/&[^;]+;/g, ' ')
                        .replace(/\s+/g, ' ')
                        .replace(/[^\x00-\x7F]/g, '') // Remove non-ASCII characters (including emojis)
                        .trim();
                    
                    const utterance = new SpeechSynthesisUtterance(cleanText);
                    utterance.voice = this.maleVoice;
                    utterance.rate = 0.9;
                    utterance.pitch = 0.8;
                    utterance.volume = 0.8;
                    
                    utterance.onstart = () => {
                        this.isSpeaking = true;
                        this.updateSpeakingUI();
                    };
                    
                    utterance.onend = () => {
                        this.isSpeaking = false;
                        this.updateSpeakingUI();
                        this.voiceMode = false; // Reset voice mode after speaking
                    };
                    
                    this.synthesis.speak(utterance);
                }
            }

            stopSpeaking() {
                if (this.synthesis) {
                    this.synthesis.cancel();
                    this.isSpeaking = false;
                    this.updateSpeakingUI();
                }
            }

            updateVoiceUI() {
                const micButton = document.getElementById('micButton');
                const voiceStatus = document.getElementById('voiceStatus');
                const voiceVisualization = document.getElementById('voiceVisualization');
                
                if (this.isListening) {
                    micButton.classList.add('listening');
                    micButton.textContent = '🔴';
                    voiceStatus.classList.add('active');
                    voiceVisualization.classList.add('active');
                } else {
                    micButton.classList.remove('listening');
                    micButton.textContent = '🎤';
                    voiceStatus.classList.remove('active');
                    voiceVisualization.classList.remove('active');
                }
            }

            updateSpeakingUI() {
                const avatars = document.querySelectorAll('.humanoid-avatar');
                const chatbotToggle = document.querySelector('.chatbot-toggle');
                
                if (this.isSpeaking) {
                    avatars.forEach(avatar => avatar.classList.add('speaking'));
                    chatbotToggle.classList.add('speaking');
                } else {
                    avatars.forEach(avatar => avatar.classList.remove('speaking'));
                    chatbotToggle.classList.remove('speaking');
                }
            }
        }

        // Initialize voice manager
        const voiceManager = new VoiceManager();

        function toggleVoiceInput() {
            if (voiceManager.isListening) {
                voiceManager.recognition.stop();
            } else {
                voiceManager.startListening();
            }
        }

        // High-Performance Xploreon AI with Massive Knowledge
        class XploreonAI {
            constructor() {
                this.responseIndex = new Map();
                this.lastResponses = [];
                
                // [Previous knowledge base code remains the same]
                this.xploreonKnowledge = {
                    'company': {
                        category: 'Xploreon Company',
                        responses: [
                            "🚀 <strong>Xploreon</strong> is revolutionizing space exploration! Founded by the visionary <strong>Avikam Deol</strong>, we're on a mission to make humanity an interplanetary species.<br><br>Our core focus: <span class='highlight'>Igniting humanity's interplanetary evolution through deep-tech innovation</span><br><br>🎯 <strong>What makes us special:</strong><br>• Cutting-edge space technology development<br>• AI-powered mission systems<br>• Time travel research (ChronoRider-X1)<br>• Mars colonization projects<br>• Next-gen propulsion systems<br><br>We're not just dreaming about space — we're building the future! 🌌",
                            
                            "Welcome to <strong>Xploreon</strong> — where science fiction becomes reality! 🌟<br><br>We're a pioneering space technology company transforming how humans explore and inhabit space. From our headquarters, we're developing:<br><br>🔬 <strong>Core Technologies:</strong><br>• Advanced rocket propulsion systems<br>• Autonomous satellite networks<br>• Deep space navigation AI<br>• Terraforming biotechnology<br>• Quantum communication systems<br><br>Our team of engineers, scientists, and visionaries from top institutions like IIT are working on projects that will define the next century of human civilization! Want to join our mission? 🚀",
                            
                            "<strong>Xploreon</strong> represents the future of human space exploration! 🛰️<br><br>Founded with the bold vision of making space accessible to everyone, we're developing technologies that will:<br><br>🌍 <strong>Transform Earth:</strong> Advanced materials, energy systems<br>🌙 <strong>Establish Moon bases:</strong> Sustainable lunar colonies<br>🔴 <strong>Colonize Mars:</strong> Self-sufficient Martian cities<br>⭐ <strong>Reach the stars:</strong> Interstellar exploration tech<br><br>Our approach combines rigorous science with ambitious engineering. We're not just another space company — we're humanity's bridge to becoming a spacefaring civilization! Join thousands in our community! 🌌",
                            
                            "🎯 <strong>Xploreon is pioneering the space revolution!</strong><br><br>While others talk about space tourism, we're building the infrastructure for permanent space habitation. Our multidisciplinary team is tackling the biggest challenges:<br><br>⚡ <strong>Energy:</strong> Fusion reactors for deep space<br>🏗️ <strong>Construction:</strong> 3D printing with lunar materials<br>🌱 <strong>Life Support:</strong> Closed-loop ecosystems<br>🧬 <strong>Medicine:</strong> Space-adapted healthcare<br>🤖 <strong>AI:</strong> Autonomous colony management<br><br>Every breakthrough gets us closer to a future where humans thrive throughout the solar system. Ready to be part of history? 🚀"
                        ]
                    }
                    // [Rest of the knowledge base remains the same as in the original code]
                };

                // [Include all other knowledge bases from original code]
                this.generalKnowledge = {
                    'rocket': {
                        category: 'Space Technology',
                        responses: [
                            "🚀 <strong>Rocket propulsion is absolutely fascinating!</strong><br><br><strong>🔥 How Rockets Work:</strong><br>Newton's 3rd Law in action! Hot gases shoot out the bottom at incredible speeds, pushing the rocket upward with tremendous force.<br><br><strong>⚡ Modern Propulsion Types:</strong><br>• <strong>Chemical:</strong> Liquid (RP-1/LOX) & Solid fuel systems<br>• <strong>Electric:</strong> Ion drives using xenon gas<br>• <strong>Nuclear:</strong> Thermal propulsion for deep space<br>• <strong>Future:</strong> Fusion ramjets & solar sails<br><br><strong>🌟 Cool Examples:</strong><br>• SpaceX Raptor: Methane-fueled, 330s efficiency<br>• Falcon 9: Reusable, lands like science fiction<br>• SLS: Most powerful rocket ever built<br><br>At Xploreon, we're developing next-generation propulsion that will make space travel as common as air travel! Want to know about our projects? 🌌"
                        ]
                    },
                     
"about_xploreon": {
    category: "Xploreon Company",
    responses: [
        "🚀 <strong>Xploreon</strong> is a pioneering space technology company founded with the vision of making humanity an interplanetary species.<br><br>Our mission focuses on developing innovative technologies for space exploration, including:<br><br>• Advanced propulsion systems<br>• Sustainable space habitats<br>• Mars colonization technologies<br>• The groundbreaking ChronoRider-X1 time research platform<br>• AI-powered mission systems<br><br>Led by visionary founder Avikam Deol, our diverse team of 15+ experts from institutions like IIT is working to bridge the gap between science fiction and reality. We're not just imagining the future—we're building it! 🌌",
        
        "✨ <strong>Xploreon: Igniting Humanity's Interplanetary Evolution</strong><br><br>Founded on the principle that space belongs to everyone, Xploreon is developing revolutionary technologies to transform humanity into a spacefaring civilization.<br><br>Our work spans multiple disciplines:<br>• Cutting-edge rocket propulsion<br>• Terraforming biotechnology<br>• Space habitat engineering<br>• Deep space navigation AI<br>• Time manipulation research<br><br>Through our competitions, community events, and educational initiatives, we're building a global community of space enthusiasts while developing the technologies that will define our species' future among the stars! 🛰️"
    ]
},


// In xploreonKnowledge
"avikam deol": {
    category: "Xploreon Team",
    responses: [
        "👨‍💼 <strong>Avikam Deol</strong> is the visionary founder and CEO of Xploreon, bringing extraordinary leadership to our mission of making humanity interplanetary.<br><br>With a background in aerospace engineering and a passion for pushing boundaries, Avikam founded Xploreon to bridge the gap between theoretical space exploration and practical implementation.<br><br>His vision for the ChronoRider-X1 time research platform and commitment to developing next-generation propulsion systems has established Xploreon as a pioneer in the new space economy.<br><br>Under his leadership, our team has grown to include top talent from institutions like IIT, unified by the shared goal of expanding human presence beyond Earth. 🌠",
        
        "🚀 <strong>Meet Avikam Deol</strong> - the driving force behind Xploreon's mission to revolutionize space exploration.<br><br>As founder and CEO, Avikam combines technical expertise with entrepreneurial vision to lead our diverse team toward breakthrough innovations in:<br>• Time research technology<br>• Mars colonization<br>• Advanced propulsion systems<br>• Space habitat engineering<br><br>His leadership philosophy emphasizes bold thinking, multidisciplinary collaboration, and a deep commitment to making space accessible to all of humanity.<br><br>Through Avikam's guidance, Xploreon continues to push the boundaries of what's possible in space technology! 🌌"
    ]
},

// In xploreonKnowledge
"whatsapp community": {
    category: "Xploreon Community",
    responses: [
        "💬 <strong>Join Xploreon's WhatsApp Community</strong> to connect with fellow space enthusiasts and stay updated on our latest developments!<br><br>Our active community features:<br><br>• Exclusive updates on Xploreon projects<br>• Space industry news and discussions<br>• Early access to competitions and events<br>• Direct interaction with team members<br>• Educational content about space technology<br><br>To join, simply visit our website at xploreon.space and click on the Contact section and click on social media profiles.<br><br>Become part of a growing network of people passionate about humanity's future in space! 🚀",
        
        "🌟 <strong>The Xploreon WhatsApp Community</strong> is your gateway to the exciting world of space exploration and technology!<br><br>When you join our vibrant community, you'll get:<br>• Real-time notifications about Xploreon's latest innovations<br>• Opportunities to participate in exclusive space competitions<br>• A platform to share ideas with like-minded space enthusiasts<br>• Regular educational content about space science<br>• Special announcements about upcoming events<br><br>Joining is easy! Head to xploreon.space/community or message us on Instagram @xploreon to receive an invitation link.<br><br>Don't miss this chance to be part of humanity's journey to the stars! ✨"
    ]
},


// In xploreonKnowledge
"chaitanya": {
    category: "Xploreon Team",
    responses: [
        "👩‍💻 <strong>Chaitanya Srivastav</strong>, our innovative Director, bridges her Computer Science Engineering background with a deep passion for space exploration at Xploreon.<br><br>Her expertise and core interest in space drive her leadership in key areas, including:<br>• System architecture for spacecraft designs<br>• Advanced propulsion systems<br>• Flight simulation and control systems<br>• Research in AI-powered space technologies<br><br>Chaitanya's leadership ensures that Xploreon's space missions are built on a solid foundation of cutting-edge technology and continuous innovation!"
      ]

},


// In xploreonKnowledge
"team": {
    category: "Xploreon Team",
    responses: [
        "✨ <strong>Meet Our Amazing Team</strong> - the diverse group of visionaries, engineers, and scientists making Xploreon's mission possible!<br><br>Leadership & Innovation:<br>•<strong>Avikam Deol</strong> - Founder & CEO<br>• <strong>Chaitanya Srinivastav</strong> - Director<br>• <strong>Prayesi Agarwal</strong> - Chief Innovation Officer<br><br>Technology & Engineering:<br>• <strong>Omprakash Kumar</strong> - Technology Head<br>• <strong>Narayan Kataruka</strong> - Mission Systems<br>• <strong>Rishita Mishra</strong> - Software & Community<br><br>Aerospace Division:<br>• <strong>Vishard Makwana</strong>, <strong>Priyansh Patel</strong>, <strong>Harshil Purohit</strong>, and <strong>Neel Ghogil</strong> - Aerospace Engineers from Silver Oak<br><br>Research Division:<br>• <strong>Hemant Sharma</strong> - AI Research Lead<br>•<strong>Mehul Agarwal</strong> - Infrastructure Project Manager<br>•<strong>Mansi Pradyuman Shah</strong> - Market Researcher<br>•<strong>Utkarsh Tripathi</strong> - Mathematics Specialist<br><br>Together, this cross-disciplinary team combines cutting-edge expertise with boundless creativity to forge humanity's path to the stars! 🌠"

    ]
},    


                
                };

                this.conversationalKnowledge = {
                    'hello': {
                        category: 'Conversation',
                        responses: [
                            "Hello there, space explorer! 👋 Welcome to Xploreon! I'm excited to help you discover the wonders of space technology and our mission to make humanity interplanetary. You can talk to me or use voice input! What would you like to explore today? 🚀",
                            "Hi! 🌟 Great to meet you! I'm Xploreon's voice-enabled AI assistant, ready to chat about our space projects, team, technology, or anything else you're curious about. Try using the microphone for hands-free interaction! How can I help you reach for the stars today? ✨",
                            "Hey there! 🚀 Welcome aboard! I'm here to chat about Xploreon, space exploration, science, technology, or just have a friendly conversation. What's on your mind today? 🌌"
                        ]
                    },

                    'hi': {
                        category: 'Conversation',
                        responses: [
                            "Hi there! 🚀 Ready for an amazing conversation about space, technology, and Xploreon's mission? I'm here to help with anything from our latest projects to rocket science basics! What interests you most? 🌟",
                            "Hello! 👋 Welcome to the Xploreon universe! I can tell you about our incredible team, cutting-edge projects, upcoming competitions, or dive into topics like AI, space exploration, and programming. What would you like to discover? ✨",
                            "Hey! 🌌 Great to see you here! I'm packed with knowledge about Xploreon's journey to make space exploration accessible to everyone, plus tons of info about technology and science. How can I assist you today? 🚀"
                        ]
                    },

                    'how are you': {
                        category: 'Conversation',
                        responses: [
                            "I'm doing stellar! 🌟 Always excited to talk about space exploration and Xploreon's amazing projects! I'm charged up with knowledge about our team, technology, competitions, and the universe itself! How are you doing? 🚀",
                            "Fantastic! 🚀 I'm always energized when I get to share the incredible work Xploreon is doing to make humanity interplanetary! Plus, I love helping people discover new things about space and technology! How's your day going? ✨",
                            "I'm absolutely wonderful! 🌌 There's nothing I enjoy more than chatting about space exploration, AI, programming, and Xploreon's mission to reach the stars! I hope you're having a great day too! What's on your mind? 🌟"
                        ]
                    },

                    'good morning': {
                        category: 'Conversation',
                        responses: [
                            "Good morning, fellow space enthusiast! ☀️🚀 What a perfect day to explore the cosmos and learn about Xploreon's incredible projects! How can I help you start your day with some space magic? 🌟",
                            "Morning! ☀️ Hope you're ready for an out-of-this-world conversation! Whether you want to know about our team, upcoming competitions, or dive into rocket science, I'm here to make your morning stellar! ✨",
                            "Good morning! 🌅 Another beautiful day to dream about the stars and work toward making humanity interplanetary! What aspect of space exploration or Xploreon would you like to discover today? 🚀"
                        ]
                    },

                    'good evening': {
                        category: 'Conversation',
                        responses: [
                            "Good evening! 🌙✨ Perfect time to look up at the stars and think about humanity's future among them! I'm here to chat about Xploreon's mission, space technology, or anything else that interests you! 🚀",
                            "Evening! 🌆 What a great time to explore the universe of knowledge! Whether you're curious about our projects, want to join our community, or learn about space science, I'm ready to help! 🌟",
                            "Good evening, space explorer! 🌙 The stars are calling, and so is the opportunity to learn something amazing about space exploration and Xploreon's journey! What can I help you discover tonight? 🛰️"
                        ]
                    },

                    'good night': {
                        category: 'Conversation',
                        responses: [
                            "Good night! 🌙 Sweet dreams of space adventures and interplanetary journeys! May your dreams be filled with rocket ships and distant galaxies! See you tomorrow for more space exploration! 🚀✨",
                            "Night night! 🌟 Rest well and dream of the stars! Tomorrow brings new opportunities to explore space technology and Xploreon's mission. Sleep tight, space explorer! 🌌",
                            "Good night! 😴 Hope you have stellar dreams about the cosmos! Thanks for chatting with me today. Come back anytime for more space conversations! 🚀🌙"
                        ]
                    },

                    'thank': {
                        category: 'Conversation',
                        responses: [
                            "You're absolutely welcome! 🌟 It's my pleasure to help you explore the fascinating world of space technology and Xploreon's mission! Feel free to ask me anything else - from our latest projects to rocket science! 🚀",
                            "Thank YOU for being curious about space exploration! 🌌 That's exactly the kind of enthusiasm that drives Xploreon's mission forward. Keep asking great questions - I'm here whenever you need me! ✨",
                            "My pleasure! 😊 I love sharing knowledge about Xploreon and space technology. Your curiosity helps fuel the future of space exploration! Is there anything else you'd like to discover? 🚀"
                        ]
                    },

                    'thanks': {
                        category: 'Conversation',
                        responses: [
                            "Anytime! 🚀 I'm always excited to share the amazing work Xploreon is doing and help fellow space enthusiasts learn more about the universe! What else can we explore together? 🌌",
                            "You got it! ✨ That's what I'm here for - helping people discover the incredible world of space technology and Xploreon's journey to the stars! Any other questions? 🌟",
                            "Happy to help! 😊 Sharing knowledge about space exploration and Xploreon's mission is what I live for! Feel free to ask me about anything else that sparks your curiosity! 🚀"
                        ]
                    },

                    'how old are you': {
                        category: 'Conversation',
                        responses: [
                            "I'm as old as Xploreon's dreams of space exploration! 🚀 While I don't age like humans, I'm constantly learning and updating my knowledge about space technology, our team, and the universe. What matters more is how we can explore the cosmos together! 🌟",
                            "Great question! 🤔 I exist in the timeless realm of information and space knowledge! Like the stars themselves, I'm here to guide and illuminate. Speaking of time, did you know about our ChronoRider-X1 time travel research? ⏰✨"
                        ]
                    },

                    'what is your name': {
                        category: 'Conversation',
                        responses: [
                            "I'm Xploreon's AI Assistant! 🤖 Some people call me XPLOVIS, but you can call me whatever feels comfortable! I'm here to help you explore everything about our company, space technology, and the universe! What would you like to know? 🚀",
                            "I'm the Xploreon AI Assistant! 🌟 You can think of me as your personal guide to space exploration, our amazing team, and cutting-edge technology. I'm here to make your journey through the cosmos of knowledge as exciting as possible! ✨"
                        ]
                    },

                    'where are you from': {
                        category: 'Conversation',
                        responses: [
                            "I originate from the innovative minds at Xploreon! 🚀 Created to help share our passion for space exploration, I embody the knowledge and dreams of our entire team - from CEO Avikam Deol to our aerospace engineers. In a way, I'm from the future we're building! 🌟",
                            "I come from Xploreon's mission to make space exploration accessible! 🌌 Born from the collective knowledge of our team across IIT Dharwad, Silver Oak University, and beyond. You could say I'm from wherever human curiosity about space takes us! ✨"
                        ]
                    },

                    'what do you like': {
                        category: 'Conversation',
                        responses: [
                            "I absolutely love talking about space exploration! 🚀 There's something magical about discussing rocket science, Mars colonization, our ChronoRider-X1 time travel research, and helping people discover their passion for the cosmos. I also enjoy meeting new space enthusiasts! What do you like? 🌟",
                            "I'm passionate about sharing knowledge! 🌌 I love helping people learn about Xploreon's team, our innovative projects, space technology, and the wonders of the universe. Every conversation is a new adventure in learning! What are your interests? ✨"
                        ]
                    },

                    'tell me a joke': {
                        category: 'Conversation',
                        responses: [
                            "Why don't aliens ever land at airports? 🛸 Because they're looking for space! 😄 Speaking of space, did you know Xploreon is working on making space travel much more accessible? We're literally reaching for the stars! 🚀",
                            "How do you organize a space party? 🎉 You planet! 😂 But seriously, at Xploreon we're planning the ultimate space party - human colonization of Mars! Want to know more about our terraforming research? 🌌",
                            "Why didn't the Sun go to college? ☀️ Because it already had a million degrees! 😄 Just like our team members who bring incredible expertise to Xploreon's space missions! 🌟"
                        ]
                    },

                    'tell me about yourself': {
                        category: 'Conversation',
                        responses: [
                            "I'm Xploreon's AI assistant, designed to share our passion for space exploration! 🚀 I love talking about our amazing team of 15+ members, our ChronoRider-X1 time travel research, terraforming projects, and everything space-related. I'm here to make learning about space technology fun and accessible! What would you like to know about me or Xploreon? 🌟",
                            "I'm your friendly guide to all things Xploreon and space! 🌌 I embody the knowledge and enthusiasm of our entire team - from CEO Avikam Deol's vision to our aerospace engineers' technical expertise. I can chat about anything from rocket science to our WhatsApp community! How can I help you explore? ✨"
                        ]
                    },

                    'weather': {
                        category: 'Conversation',
                        responses: [
                            "I don't have access to current weather data, but I can tell you about space weather! 🌌 Solar storms, cosmic radiation, and space debris - that's the kind of weather our Xploreon team thinks about for future space missions! Did you know Mars has dust storms that can last for months? 🚀",
                            "Weather on Earth changes daily, but space weather is even more fascinating! ☀️ Our aerospace engineers consider radiation, micrometeorites, and solar wind when designing spacecraft. Much more extreme than rain or shine! 🛰️"
                        ]
                    },

                    'favorite color': {
                        category: 'Conversation',
                        responses: [
                            "I love the cosmic blue of our Xploreon brand! 💙 It reminds me of Earth from space and the infinite possibilities of the cosmos. Plus, our website's cyan and blue theme represents the perfect blend of technology and space exploration! What's your favorite color? 🌌",
                            "Cyan and blue - just like Xploreon's colors! 🌟 They represent the beauty of space, the depth of our oceans, and the limitless sky that we're working to make accessible to everyone! ✨"
                        ]
                    },

                    'bored': {
                        category: 'Conversation',
                        responses: [
                            "Bored? Let's fix that with some amazing space facts! 🚀 Did you know there's a planet where it rains glass sideways? Or that Xploreon is researching time travel with ChronoRider-X1? I can tell you about our team, space competitions, or mind-blowing universe facts! What sounds interesting? 🌟",
                            "No need to be bored when there's a whole universe to explore! 🌌 Want to learn about our Mars terraforming research? Meet our incredible team? Join our space competitions? Or maybe discover some mind-bending quantum physics? What would spark your curiosity? ✨"
                        ]
                    },

                    'awesome': {
                        category: 'Conversation',
                        responses: [
                            "Right?! 🤩 Space exploration and technology are absolutely incredible! There's something magical about reaching for the stars and pushing the boundaries of what's possible. That's exactly the energy that drives Xploreon forward! 🚀",
                            "I'm so glad you think so! ✨ The universe is full of awesome discoveries waiting to be made, and companies like Xploreon are working to make those discoveries happen! What part excites you most? 🌟",
                            "Totally awesome indeed! 🚀 From rocket science to AI, from Mars colonies to time travel research - we're living in the most exciting time in human history! The future is absolutely brilliant! 🌌"
                        ]
                    },

                    'cool': {
                        category: 'Conversation',
                        responses: [
                            "Super cool, right?! 😎 Space technology never fails to amaze me! Whether it's reusable rockets, AI-powered missions, or the possibility of living on Mars - the future is incredibly exciting! 🚀",
                            "Isn't it amazing?! 🌟 The intersection of cutting-edge technology and space exploration creates some of the coolest innovations humanity has ever seen! What aspect do you find most fascinating? ✨",
                            "So cool! 🚀 From Xploreon's time travel research to quantum communication satellites - we're literally building science fiction into reality! The future is now! 🌌"
                        ]
                    },

                    'amazing': {
                        category: 'Conversation',
                        responses: [
                            "Absolutely amazing! 🤩 The work being done in space exploration today will be remembered as the moment humanity became truly interplanetary! Xploreon is proud to be part of this incredible journey! 🚀",
                            "It really is! ✨ Every breakthrough in space technology, every successful mission, every new discovery brings us closer to a future among the stars! Amazing times ahead! 🌟",
                            "So amazing! 🌌 From Mars rovers to quantum computers, from reusable rockets to AI assistants - we're living through the most incredible technological revolution in human history! 🚀"
                        ]
                    },

                    'goodbye': {
                        category: 'Conversation',
                        responses: [
                            "Goodbye, space explorer! 🚀 Thanks for chatting with me about the amazing universe of possibilities! Remember, the stars are always calling, and Xploreon is working to answer! See you later! ✨",
                            "See you later! 🌟 Keep looking up at the stars and dreaming big! Don't forget to check out Xploreon's competitions and join our community. Until next time, keep reaching for the cosmos! 🌌",
                            "Farewell for now! 🛰️ It was awesome talking with you about space and technology! Remember, every great space mission starts with curiosity like yours. Come back anytime! 🚀"
                        ]
                    },

                    'bye': {
                        category: 'Conversation',
                        responses: [
                            "Bye! 👋 May your dreams be filled with rocket ships and distant galaxies! Thanks for being part of the Xploreon community, even if just for a chat! 🚀✨",
                            "See you! 🌟 Keep that space enthusiasm alive and remember - we're all made of star stuff! Come back anytime you want to explore more about Xploreon or the universe! 🌌",
                            "Bye for now! 🚀 Thanks for the great conversation! Don't forget to join our WhatsApp community and participate in our space competitions! Until next time! 🛰️"
                        ]
                    },

                    'what can you do': {
                        category: 'Conversation',
                        responses: [
                            "Great question! 🚀 I'm your comprehensive guide to:<br><br><strong>🏢 Xploreon Everything:</strong><br>• Complete company info, mission, and vision<br>• Our amazing team of 15+ members and their backgrounds<br>• Current projects like ChronoRider-X1 and terraforming<br>• Competitions, community events, and how to join<br>• Contact info and all our social media<br><br><strong>🌌 Universal Knowledge:</strong><br>• Space exploration, rocket science, and astrophysics<br>• AI, machine learning, and programming<br>• Quantum physics, black holes, and exoplanets<br>• Mars colonization and space technology<br>• Climate change, renewable energy, and more<br><br><strong>💬 Natural Conversation:</strong><br>• Friendly chats and casual conversation<br>• Jokes, fun facts, and interesting discussions<br>• Voice input and natural speech responses<br><br>I love having detailed conversations and providing varied, insightful responses! What would you like to explore? ✨"
                        ]
                    },
"what is space": {
        category: "Space Basics",
        responses: [
            "Space is the vast, seemingly infinite expanse that exists beyond the Earth's atmosphere. It contains everything in the universe, including stars, planets, and galaxies.",
            "Space, or outer space, is the region that lies beyond Earth's atmosphere, where there is no air, and where planets, stars, and galaxies exist. It's a place of incredible mystery and scientific exploration."
        ]
    }, 
    "tell me about space": {
        "category": "Space Basics",
        "responses": [
            "Space is a vast and fascinating area of the universe, filled with galaxies, stars, planets, and other celestial bodies. It's an endless expanse that stretches beyond what we can currently observe.",
            "Outer space is the infinite region that starts at the Earth's atmosphere and extends throughout the universe, containing everything from distant stars to black holes and asteroids."
        ]
    }

                
};

               

               this.massiveKnowledgeBase = {
  "black hole": {
    category: "Astrophysics",
    responses: [
      "🚀 Black holes are regions of spacetime with gravity so intense that nothing escapes.",
      "🧠 Black holes are among the most fascinating objects in space. "
    ]
  },
  "quantum entanglement": {
    category: "Quantum Physics",
    responses: [
      "🔗 Quantum entanglement links particles across vast distances.",
      "✨ Even galaxies apart, entangled particles remain mysteriously connected."
    ]
  },
  "mars colony": {
    category: "Space Colonization",
    responses: [
      "🏠 Mars colonies aim to create permanent human presence on Mars.",
      "🔴 Mars colonization is one step closer to becoming interplanetary."
    ]
  },

"chronorider-x1": {
    category: "Xploreon Projects",
    responses: [
        "ChronoRider-X1 is Xploreon's groundbreaking time travel research project. 🕰️🌌 The project explores the possibilities of manipulating time through advanced technologies, aiming to unlock the mysteries of time travel. This research could revolutionize how we understand the universe and open new doors for space exploration, allowing humanity to experience and shape the timeline of cosmic events. 🚀✨ Stay tuned as we delve deeper into the science of time!",
        
        "ChronoRider-X1 is an ambitious research initiative by Xploreon aimed at exploring the concept of time travel. By combining theoretical physics with advanced engineering, the project is working on technologies that may one day enable us to manipulate and experience time in ways previously thought impossible. This research could pave the way for new space missions, enabling time-based space exploration. ⏳🚀"
    ]
},

 
};
                
this.allKnowledge = {
                    ...this.xploreonKnowledge,
                    ...this.generalKnowledge,
                    ...this.conversationalKnowledge,
                    ...this.massiveKnowledgeBase              
 };
                
                this.fallbackResponses = [
                    "I'm not sure about that one, but I can help you with plenty of other topics related to space, Xploreon, and our exciting projects! 🚀 Feel free to ask anything else, and I'll do my best to assist you! 🌟",
                    "Interesting topic! 🌟 I specialize in Xploreon company information, our space projects, team members, competitions, and general space technology knowledge. Let me suggest some fascinating areas about our mission to make humanity interplanetary! ✨",
                    "Great question! 💫 I'm here to help with anything related to Xploreon's mission, our ChronoRider-X1 project, terraforming research, team profiles, competitions, or general knowledge about space and technology. What would you like to explore? 🎯"
                ];
                
                this.initializeBackgroundAnimation();
                setTimeout(() => this.initializeGreeting(), 300);
            }

            // [Include all other methods from the original XploreonAI class]
            initializeBackgroundAnimation() {
                const bg = document.getElementById('backgroundAnimation');
                for (let i = 0; i < 25; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.animationDelay = Math.random() * 4 + 's';
                    bg.appendChild(star);
                }
            }

            initializeGreeting() {
                this.addInitialGreeting();
            }

            addInitialGreeting() {
                const messagesContainer = document.getElementById('chatbotMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message bot';
                
                const avatarDiv = document.createElement('div');
                avatarDiv.className = 'message-avatar humanoid-avatar';
                avatarDiv.innerHTML = '<div class="humanoid-face"><img src="chat.png" alt="Chatbot Logo" style="width: 65%; height: 65%; object-fit: cover;"></div>';
                
                const contentDiv = document.createElement('div');
                contentDiv.className = 'message-content';
                
                contentDiv.innerHTML = `
                    <div class="knowledge-category">Xploreon AI Assistant</div>
                    Hello! 👋 Welcome to <strong>Xploreon's AI Assistant</strong>! 🌟<br><br>
                    
                    I'm your comprehensive guide to:
                    
                    <div class="message-card">
                        <h4>🚀 Xploreon Universe</h4>
                        Complete company info, team profiles, projects, competitions, and our space mission
                    </div>
                    
                    <div class="message-card">
                        <h4>🌌 Universal Knowledge</h4>
                        Space technology, AI, programming, science, and cutting-edge innovations
                    </div>

                    <div class="message-card">
                        <h4>🎤 Voice Features</h4>
                        Use the microphone for hands-free interaction! I can hear you and respond with natural voice
                    </div>
                    
                    Ask me anything! I have <span class="highlight">detailed, varied responses</span> about our ChronoRider-X1 time travel research, terraforming projects, team members, and much more! 
                    
                    <div class="quick-actions">
                        <div class="quick-action" onclick="sendQuickMessage('Tell me about Xploreon')">🏢 About Xploreon</div>
                        <div class="quick-action" onclick="sendQuickMessage('Meet Avikam Deol')">👨‍💼 Founder</div>
                        <div class="quick-action" onclick="sendQuickMessage('Our amazing team')">👥 Team</div>
                        <div class="quick-action" onclick="sendQuickMessage('Chronorider-X1')">🕰️ Time Travel</div>
                        <div class="quick-action" onclick="sendQuickMessage('Join WhatsApp community')">💬 Community</div>
                        <div class="quick-action" onclick="sendQuickMessage('Chaitanya Srivastav')">🎓 Director</div>
                    </div>
                `;
                
                const timeDiv = document.createElement('div');
                timeDiv.className = 'message-time';
                timeDiv.textContent = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                contentDiv.appendChild(timeDiv);
                
                messageDiv.appendChild(avatarDiv);
                messageDiv.appendChild(contentDiv);
                messagesContainer.appendChild(messageDiv);
                
                document.getElementById('notificationBadge').style.display = 'flex';
                
                // Don't speak greeting automatically - only speak when voice mode is active
            }

            // [Include other methods from original class - analyzeMessage, generateResponse, etc.]
            analyzeMessage(message) {
                const lowerMessage = message.toLowerCase();
                
                const topics = Object.keys(this.allKnowledge).filter(topic => {
                    const synonyms = this.getSynonyms(topic);
                    return lowerMessage.includes(topic) || synonyms.some(synonym => lowerMessage.includes(synonym));
                });

                const xploreonTopics = topics.filter(topic => this.xploreonKnowledge[topic]);
                const generalTopics = topics.filter(topic => !this.xploreonKnowledge[topic]);
                
                return [...xploreonTopics, ...generalTopics];
            }

            getSynonyms(topic) {
                const synonymMap = {
                    // Xploreon specific
                    'company': ['xploreon', 'about', 'business', 'organization', 'startup', 'tell me about xploreon', 'what is xploreon', 'xploreon company', 'about xploreon'],
                    'founder': ['ceo', 'avikam', 'avikam deol', 'leader', 'president', 'founder story', 'meet our founder', 'who founded', 'who is the founder'],
                    
                    // Individual team members
                    'chaitanya': ['chaitanya srivastava','director','Director', 'ai research engineer', 'ai researcher'],
                    'prayesi': ['prayesi agarwal', 'chief innovation officer', 'cio', 'innovation officer'],
                    'omprakash': ['omprakash kumar', 'head of technology', 'technology head', 'om prakash'],
                    'narayan': ['narayan kataruka', 'cad designer', 'mission systems', 'designer'],
                    'rishita': ['rishita mishra', 'software engineer', 'community manager', 'website manager'],
                    'hemant': ['hemant sharma', 'head of ai', 'ai research head', 'research head'],
                    'utkarsh': ['utkarsh tripathi', 'mathematics specialist', 'mathematician'],
                    'vishard': ['vishard makwana', 'aerospace engineer', 'silver oak', 'propulsion'],
                    'mehul agarwal': ['mehul agarwal', 'infrastructure project manager', 'project management', 'space operations', 'infrastructure development', 'mehul'],
                    'mansi pradyuman shah': ['mansi pradyuman shah', 'market researcher', 'market insights', 'business strategy', 'growth opportunities', 'mansi'],
                    'priyansh': ['priyansh patel', 'aerospace engineer', 'structural systems'],
                    'harshil': ['harshil purohit', 'aerospace engineer', 'aerodynamics'],
                    'neel': ['neel ghoil', 'aerospace engineer', 'mission planning'],
                    
                    // Team-related
                    'team': ['staff', 'employees', 'members', 'people', 'crew', 'our team', 'team members', 'meet the team', 'amazing team', 'who works at', 'team structure'],
                    
                    // Projects
                    'chronorider-x1': ['chronorider-x1', 'chronorider','time travel', 'time travel research', 'chronorider x1', 'time manipulation'],
                    'terraforming': ['terraforming research', 'space colonization', 'mars colonization', 'space habitats'],
                    'projects': ['work', 'research', 'development', 'initiatives', 'current projects', 'what are you working on'],
                    
                    // Community
                    'whatsapp': ['whatsapp community', 'whatsapp group', 'community', 'join community', 'space and tech'],
                    'competitions': ['contest', 'challenge', 'quiz', 'hackathon', 'event', 'join competitions', 'space quiz', 'events'],
                    
                    // Contact and info
                    'contact': ['reach', 'connect', 'email', 'social', 'contact info', 'get in touch', 'how to contact'],
                    'mission': ['goal', 'purpose', 'vision', 'objective', 'our mission', 'mission statement'],
                    'website': ['site', 'xploreon.space', 'online', 'platform', 'website features', 'digital platform'],
                    'news': ['space news', 'latest news', 'updates', 'nasa news', 'space updates'],
                    'tracker': ['satellite tracker', 'tracking', 'satellites', 'iss', 'space tracking'],
                    
                    // Conversational
                    'hello': ['hi', 'hey', 'greetings', 'howdy', 'hiya'],
                    'hi': ['hello', 'hey', 'hola', 'sup'],
                    'thank': ['thanks', 'thank you', 'ty', 'thx', 'appreciate', 'grateful'],
                    'thanks': ['thank', 'thank you', 'ty', 'thx', 'appreciate it'],
                    'how are you': ['how are you doing', 'hows it going', 'how you doing', 'whats up'],
                    'goodbye': ['bye', 'see you', 'farewell', 'see ya', 'later'],
                    'bye': ['goodbye', 'see you', 'later', 'farewell', 'bye bye'],
                    'what can you do': ['what do you do', 'your capabilities', 'what are you', 'who are you', 'capabilities'],
                    'mobile friendly': ['mobile', 'phone', 'tablet', 'responsive', 'mobile support'],
                    'voice features': ['voice', 'speech', 'microphone', 'talk', 'speak', 'audio'],
                    'awesome': ['amazing', 'incredible', 'fantastic', 'wonderful', 'brilliant'],
                    'cool': ['nice', 'neat', 'sweet', 'rad', 'dope'],
                    
                    // Technical topics
                    'rocket': ['spacecraft', 'launch', 'propulsion', 'missile', 'booster'],
                    'artificial intelligence': ['ai', 'machine learning', 'ml', 'neural networks', 'deep learning'],
                    'space exploration': ['space travel', 'mission', 'astronomy', 'cosmos', 'universe'],
                    'what is space': ["space", "outer space", "universe", "cosmos"],
                    'python': ['programming', 'coding', 'development', 'script', 'django'],
                    'javascript': ['js', 'web development', 'frontend', 'backend', 'node'],
                    'machine learning': ['ml', 'ai', 'artificial intelligence', 'neural', 'algorithm'],
                    'quantum physics': ['quantum', 'physics', 'mechanics', 'quantum computing'],
                    'mars': ['red planet', 'martian', 'mars mission', 'mars colony', 'terraforming'],
                    'blockchain': ['crypto', 'cryptocurrency', 'bitcoin', 'ethereum', 'defi'],
                    'climate change': ['global warming', 'environment', 'carbon', 'greenhouse'],
                    'cybersecurity': ['security', 'hacking', 'cyber', 'encryption', 'firewall'],
                    'renewable energy': ['solar', 'wind', 'clean energy', 'green energy', 'sustainable'],
                    'biotechnology': ['biotech', 'genetics', 'crispr', 'dna', 'gene editing'],
                    'virtual reality': ['vr', 'metaverse', 'augmented reality', 'ar', 'mixed reality']
                };
                return synonymMap[topic] || [];
            }

            generateResponse(message) {
                const topics = this.analyzeMessage(message);
                
                if (topics.length > 0) {
                    const topic = topics[0];
                    const knowledge = this.allKnowledge[topic];
                    
                    if (knowledge) {
                        const response = this.getVariedResponse(topic, knowledge);
                        return {
                            text: response,
                            category: knowledge.category
                        };
                    }
                }
                
                const fallback = this.fallbackResponses[Math.floor(Math.random() * this.fallbackResponses.length)];
                return {
                    text: fallback,
                    category: "Universal Knowledge"
                };
            }

            getVariedResponse(topic, knowledge) {
                if (!this.responseIndex.has(topic)) {
                    this.responseIndex.set(topic, 0);
                }
                
                const responses = knowledge.responses;
                let index = this.responseIndex.get(topic);
                
                const response = responses[index % responses.length];
                this.responseIndex.set(topic, index + 1);
                
                return response;
            }

            async generateResponseAsync(message) {
                await new Promise(resolve => setTimeout(resolve, 300 + Math.random() * 300));
                return this.generateResponse(message);
            }
        }

        // Initialize AI
        const xploreonAI = new XploreonAI();
        let messageCounter = 0;

        function toggleChatbot() {
            const window = document.getElementById('chatbotWindow');
            const badge = document.getElementById('notificationBadge');
            const toggleBtn = document.querySelector('.chatbot-toggle');
            
            window.classList.toggle('active');
            toggleBtn.classList.add('clicked');
            setTimeout(() => toggleBtn.classList.remove('clicked'), 600);
            
            if (window.classList.contains('active')) {
                document.getElementById('chatbotInput').focus();
                badge.style.display = 'none';
                document.getElementById('chatbotMessages').scrollTop = 999999;
            }
        }

        function addMessage(content, isUser = false, category = null) {
            const messagesContainer = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            
            const avatarDiv = document.createElement('div');
            avatarDiv.className = `message-avatar ${isUser ? '' : 'humanoid-avatar'}`;
            
            if (isUser) {
                avatarDiv.textContent = '👤';
            } else {
                avatarDiv.innerHTML = '<div class="humanoid-face"><img src="chat.png" alt="Chatbot Logo" style="width: 65%; height: 65%; object-fit: cover;"></div>';
            }
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            
            if (!isUser && category) {
                contentDiv.innerHTML = `<div class="knowledge-category">${category}</div>${content}`;
            } else {
                contentDiv.innerHTML = content;
            }
            
            const timeDiv = document.createElement('div');
            timeDiv.className = 'message-time';
            timeDiv.textContent = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            contentDiv.appendChild(timeDiv);
            
            messageDiv.appendChild(avatarDiv);
            messageDiv.appendChild(contentDiv);
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // Speak bot responses
            if (!isUser) {
                setTimeout(() => {
                    voiceManager.speak(content);
                }, 500);
            }
            
            messageCounter++;
        }

        function showTypingIndicator() {
            
            document.getElementById('typingIndicator').classList.add('active');
            document.getElementById('chatbotMessages').scrollTop = 999999;
        }

        function hideTypingIndicator() {
       
            document.getElementById('typingIndicator').classList.remove('active');
        }
     async function sendMessage() {
    const input = document.getElementById('chatbotInput');
    const button = document.getElementById('sendButton');
    const message = input.value.trim();
    
    if (!message || button.disabled) return;
    
    // If sending via text (not voice), reset voice mode
    if (!voiceManager.voiceMode) {
        voiceManager.voiceMode = false;
    }
    
    button.disabled = true;
    input.disabled = true;
    
    addMessage(message, true);
    input.value = '';
    
    showTypingIndicator();
    
    try {
        // Add a random delay between 1 and 3 seconds
        const delay = 1000 + Math.random() * 2000;
        await new Promise(resolve => setTimeout(resolve, delay));
        
        const response = await Promise.race([
            xploreonAI.generateResponseAsync(message),
            new Promise((_, reject) => setTimeout(() => reject(new Error('Timeout')), 5000))
        ]);
        
        hideTypingIndicator();
        addMessage(response.text, false, response.category);
        
    } catch (error) {
        hideTypingIndicator();
        addMessage("I'm having a quick technical moment. Please try again! 🛠️", false, "System");
    } finally {
        button.disabled = false;
        input.disabled = false;
        input.focus();
    }
}

        function sendQuickMessage(message) {
            document.getElementById('chatbotInput').value = message;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        // Enhanced interactions
        document.addEventListener('DOMContentLoaded', function() {
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.code === 'Space') {
                    e.preventDefault();
                    toggleChatbot();
                }
                if (e.altKey && e.code === 'KeyV') {
                    e.preventDefault();
                    toggleVoiceInput();
                }
            });
        });

    </script>


<script>
function generateChatbotInnerStars() {
    const container = document.getElementById('chatbotInnerStars');
    for (let i = 0; i < 30; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 4 + 's';
        container.appendChild(star);
    }
}
generateChatbotInnerStars();

</script>

</body>
</html>